{"version":3,"names":["images","React","memo","useIntl","FlatList","Modal","makeCall","styled","GradientButton","IconButton","messages","CallModal","isVisible","onShow","onHide","hideModal","organization","organizations","formatMessage","renderItem","itemInfo","_itemInfo$item2","createElement","OrganizationButton","onPress","_itemInfo$item","item","phone","text","name","call911","useNativeDriver","animationIn","animationOut","onBackButtonPress","onBackdropPress","onModalWillShow","onModalWillHide","Container","CloseButton","source","icClose","Content","Title","wantCall","SubTitle","emergency","EmergencyButton","ListContainer","List","keyExtractor","org","_org$id","id","toString","data","Fragment","View","theme","colors","white","Text","fonts","defaultBoldFamily","dark","defaultFamily"],"sources":["index.tsx"],"sourcesContent":["import { images } from '../../assets';\nimport { Organization } from 'incident-code-core';\nimport React, { FC, memo } from 'react';\nimport { useIntl } from 'react-intl';\nimport { FlatList } from 'react-native';\nimport Modal from 'react-native-modal';\nimport { makeCall } from '../../utils/device';\nimport styled from '../../utils/styled';\n\nimport GradientButton from '../GradientButton';\nimport IconButton from '../IconButton';\nimport messages from './messages';\n\ninterface Props {\n  isVisible: boolean;\n  onShow?(): void;\n  onHide?(): void;\n  hideModal(): void;\n  organization?: Organization;\n  organizations?: Organization[];\n}\n\nconst CallModal: FC<Props> = ({\n  isVisible,\n  onShow,\n  onHide,\n  hideModal,\n  organization,\n  organizations,\n}) => {\n  const { formatMessage } = useIntl();\n  const renderItem = (itemInfo: { item: Organization | undefined }) => (\n    <OrganizationButton\n      onPress={() => makeCall(itemInfo.item?.phone)}\n      text={itemInfo.item?.name}\n    />\n  );\n  const call911 = async () => {\n    await makeCall('911');\n  };\n  return (\n    <Modal\n      useNativeDriver={true}\n      animationIn=\"zoomIn\"\n      animationOut=\"zoomOut\"\n      isVisible={isVisible}\n      onBackButtonPress={hideModal}\n      onBackdropPress={hideModal}\n      onModalWillShow={onShow}\n      onModalWillHide={onHide}\n    >\n      <Container>\n        <CloseButton onPress={hideModal} source={images.icClose()} />\n        <Content>\n          <Title>{formatMessage(messages.wantCall)}</Title>\n          <SubTitle>{formatMessage(messages.emergency)}</SubTitle>\n          <EmergencyButton\n            onPress={call911}\n            text={formatMessage(messages.call911)}\n          />\n        </Content>\n        <ListContainer>\n          <SubTitle>{formatMessage(messages.organization)}</SubTitle>\n          {organizations ? (\n            <List\n              keyExtractor={org => org.id?.toString() || ''}\n              renderItem={renderItem}\n              data={organizations}\n            />\n          ) : (\n            <>{renderItem({ item: organization })}</>\n          )}\n        </ListContainer>\n      </Container>\n    </Modal>\n  );\n};\n\nconst Container = styled.View`\n  border-radius: 5px;\n  height: 75%;\n  background-color: ${({ theme }) => theme.colors.white};\n  padding: 20px 20px 0;\n  position: relative;\n`;\n\nconst Content = styled.View`\n  margin-bottom: 10px;\n`;\n\nconst ListContainer = styled.View`\n  height: 70%;\n  margin-bottom: auto;\n`;\n\nconst CloseButton = styled(IconButton as any)`\n  width: 44px;\n  height: 44px;\n  border-radius: 22px;\n  background-color: ${({ theme }) => theme.colors.white};\n  position: absolute;\n  top: -60px;\n  right: 20px;\n`;\n\nconst Title = styled.Text`\n  font-family: ${({ theme }) => theme.fonts.defaultBoldFamily};\n  font-size: 20px;\n  line-height: 28px;\n  color: ${({ theme }) => theme.colors.dark};\n  text-align: center;\n`;\n\nconst SubTitle = styled.Text`\n  font-family: ${({ theme }) => theme.fonts.defaultFamily};\n  font-size: 16px;\n  line-height: 28px;\n  margin-top: 10px;\n  color: ${({ theme }) => theme.colors.dark};\n  text-align: center;\n`;\n\nconst EmergencyButton = styled(GradientButton)`\n  margin-top: 10px;\n`;\n\nconst OrganizationButton = styled(GradientButton)`\n  margin-top: 10px;\n`;\n\nexport const List = styled(FlatList as new () => FlatList<Organization>)`\n  margin-bottom: 20px;\n`;\n\nexport default memo(CallModal);\n"],"mappings":"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","ignoreList":[]}