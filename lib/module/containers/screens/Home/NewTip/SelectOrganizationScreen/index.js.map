{"version":3,"names":["images","Header","LoadingIndicator","SafeAreaContainer","isEmpty","React","useIntl","StatusBar","makeCall","useAction","useSelector","NavigatorService","addSelectedOrganizationRequest","toggleSelectOrganization","messages","makeSelectEnableContinueButton","makeSelectError","makeSelectErrorMessage","makeSelectIntersectOrganizations","Call911Button","Call911Container","Call911Info","Call911Title","ContinueScreenActionButton","ErrorMessage","ErrorRow","InfoRow","InfoText","ItemCheckImage","ItemRow","ItemText","List","MarginBottom","OrganizationNotifyScreen","formatMessage","organizations","nextButtonEnabled","error","errorMessage","toggleSelectOrganizationAction","addSelectedOrganizationRequestAction","createElement","call911","renderHeader","Fragment","title","info","renderItem","itemInfo","organization","item","onPress","id","isSelected","source","icCheck","name","barStyle","backgroundColor","console","log","call911Title","call911Info","text","keyExtractor","org","_org$id","toString","data","extraData","disabled","continue","onCancel","back","iconImage","icBack"],"sources":["index.tsx"],"sourcesContent":["import { images } from '../../../../../assets';\nimport { Header, LoadingIndicator, SafeAreaContainer } from '../../../../../components';\nimport isEmpty from 'lodash/isEmpty';\nimport React, { FC } from 'react';\nimport { useIntl } from 'react-intl';\nimport { ListRenderItemInfo, StatusBar } from 'react-native';\nimport { OrganizationSelection } from 'types';\nimport { makeCall } from '../../../../../utils/device';\nimport { useAction, useSelector } from '../../../../../utils/hooks';\nimport NavigatorService from '../../../../../utils/navigation';\n\nimport {\n  addSelectedOrganizationRequest,\n  toggleSelectOrganization,\n} from './actions';\nimport messages from './messages';\nimport {\n  makeSelectEnableContinueButton,\n  makeSelectError,\n  makeSelectErrorMessage,\n  makeSelectIntersectOrganizations,\n} from './selectors';\nimport {\n  Call911Button,\n  Call911Container,\n  Call911Info,\n  Call911Title,\n  ContinueScreenActionButton,\n  ErrorMessage,\n  ErrorRow,\n  InfoRow,\n  InfoText,\n  ItemCheckImage,\n  ItemRow,\n  ItemText,\n  List,\n  MarginBottom,\n} from './styles';\n\nconst OrganizationNotifyScreen: FC = () => {\n  const { formatMessage } = useIntl();\n\n  const organizations = useSelector(makeSelectIntersectOrganizations());\n  const nextButtonEnabled = useSelector(makeSelectEnableContinueButton());\n  const error = useSelector(makeSelectError());\n  const errorMessage = useSelector(makeSelectErrorMessage());\n\n  const toggleSelectOrganizationAction = useAction(toggleSelectOrganization);\n  const addSelectedOrganizationRequestAction = useAction(\n    addSelectedOrganizationRequest,\n  );\n\n  if (!organizations) return <LoadingIndicator />;\n\n  const call911 = () => makeCall('911');\n\n  const renderHeader = () => (\n    <>\n      <Header title={formatMessage(messages.title)} />\n      <InfoRow>\n        <InfoText>{formatMessage(messages.info)}</InfoText>\n      </InfoRow>\n      {error && (\n        <ErrorRow>\n          <ErrorMessage>{errorMessage}</ErrorMessage>\n        </ErrorRow>\n      )}\n      <MarginBottom />\n    </>\n  );\n\n  const renderItem = (itemInfo: ListRenderItemInfo<OrganizationSelection>) => {\n    const organization = itemInfo.item;\n\n    return (\n      <ItemRow onPress={() => toggleSelectOrganizationAction(organization.id)}>\n        <>\n          {organization.isSelected && (\n            <ItemCheckImage source={images.icCheck()} />\n          )}\n          <ItemText>{itemInfo.item.name}</ItemText>\n        </>\n      </ItemRow>\n    );\n  };\n\n  return (\n    <>\n      <StatusBar barStyle=\"dark-content\" backgroundColor=\"white\" />\n      <SafeAreaContainer>\n        {console.log(\"select org screen organizations==>\",organizations)}\n        {isEmpty(organizations) ? (\n          <>\n            <Header title={formatMessage(messages.title)} />\n            <Call911Container>\n              <Call911Title>\n                {formatMessage(messages.call911Title)}\n              </Call911Title>\n              <Call911Info>{formatMessage(messages.call911Info)}</Call911Info>\n              <Call911Button\n                text={formatMessage(messages.call911)}\n                onPress={call911}\n              />\n            </Call911Container>\n          </>\n        ) : (\n          <>\n            {renderHeader()}\n            <List\n              keyExtractor={(org: any) => org.id?.toString() || ''}\n              data={organizations}\n              extraData={organizations}\n              renderItem={renderItem}\n            />\n          </>\n        )}\n        <ContinueScreenActionButton\n          disabled={!nextButtonEnabled}\n          text={formatMessage(messages.continue)}\n          onCancel={NavigatorService.back}\n          onPress={addSelectedOrganizationRequestAction}\n          iconImage={images.icBack()}\n        />\n      </SafeAreaContainer>\n    </>\n  );\n};\n\nexport default OrganizationNotifyScreen;\n"],"mappings":"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","ignoreList":[]}