{"version":3,"names":["produce","map","GET_INTERSECT_ORGANIZATIONS_FAILURE","GET_INTERSECT_ORGANIZATIONS_REQUEST","GET_INTERSECT_ORGANIZATIONS_SUCCESS","SELECT_INCIDENT_ORGANIZATION_FAILURE","TOGGLE_SELECT_ORGANIZATION","initialState","organizations","undefined","requestingOrganizations","error","errorMessage","organizationNotifyScreenReducer","draft","action","type","payload","organization","id","isSelected","message"],"sources":["reducer.ts"],"sourcesContent":["/**\n *\n * SelectOrganizationScreen reducer\n *\n */\n\nimport produce, { Draft } from 'immer';\nimport map from 'lodash/map';\n\nimport {\n  GET_INTERSECT_ORGANIZATIONS_FAILURE,\n  GET_INTERSECT_ORGANIZATIONS_REQUEST,\n  GET_INTERSECT_ORGANIZATIONS_SUCCESS,\n  SELECT_INCIDENT_ORGANIZATION_FAILURE,\n  TOGGLE_SELECT_ORGANIZATION,\n} from './constants';\nimport { OrganizationNotifyState } from './types';\n\nexport const initialState: OrganizationNotifyState = {\n  organizations: undefined,\n  requestingOrganizations: false,\n  error: false,\n  errorMessage: '',\n};\n\nconst organizationNotifyScreenReducer = produce(\n  (draft: Draft<OrganizationNotifyState>, action) => {\n    switch (action.type) {\n      case GET_INTERSECT_ORGANIZATIONS_REQUEST:\n        draft.requestingOrganizations = true;\n        break;\n      case GET_INTERSECT_ORGANIZATIONS_SUCCESS:\n        draft.requestingOrganizations = false;\n        draft.organizations = action.payload.organizations;\n        break;\n      case TOGGLE_SELECT_ORGANIZATION:\n        draft.organizations = map(draft.organizations, organization => {\n          if (organization.id === action.payload) {\n            return {\n              ...organization,\n              isSelected: !organization.isSelected,\n            };\n          }\n          return {\n            ...organization,\n            isSelected: false,\n          };\n        });\n        break;\n      case GET_INTERSECT_ORGANIZATIONS_FAILURE:\n      case SELECT_INCIDENT_ORGANIZATION_FAILURE:\n        draft.error = action.error;\n        draft.errorMessage = action.payload.message;\n        draft.requestingOrganizations = false;\n        break;\n      default:\n    }\n  },\n  initialState,\n);\n\nexport default organizationNotifyScreenReducer;\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;;AAEA,OAAOA,OAAO,MAAiB,OAAO;AACtC,OAAOC,GAAG,MAAM,YAAY;AAE5B,SACEC,mCAAmC,EACnCC,mCAAmC,EACnCC,mCAAmC,EACnCC,oCAAoC,EACpCC,0BAA0B,QACrB,aAAa;AAGpB,OAAO,MAAMC,YAAqC,GAAG;EACnDC,aAAa,EAAEC,SAAS;EACxBC,uBAAuB,EAAE,KAAK;EAC9BC,KAAK,EAAE,KAAK;EACZC,YAAY,EAAE;AAChB,CAAC;AAED,MAAMC,+BAA+B,GAAGb,OAAO,CAC7C,CAACc,KAAqC,EAAEC,MAAM,KAAK;EACjD,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAKb,mCAAmC;MACtCW,KAAK,CAACJ,uBAAuB,GAAG,IAAI;MACpC;IACF,KAAKN,mCAAmC;MACtCU,KAAK,CAACJ,uBAAuB,GAAG,KAAK;MACrCI,KAAK,CAACN,aAAa,GAAGO,MAAM,CAACE,OAAO,CAACT,aAAa;MAClD;IACF,KAAKF,0BAA0B;MAC7BQ,KAAK,CAACN,aAAa,GAAGP,GAAG,CAACa,KAAK,CAACN,aAAa,EAAEU,YAAY,IAAI;QAC7D,IAAIA,YAAY,CAACC,EAAE,KAAKJ,MAAM,CAACE,OAAO,EAAE;UACtC,OAAO;YACL,GAAGC,YAAY;YACfE,UAAU,EAAE,CAACF,YAAY,CAACE;UAC5B,CAAC;QACH;QACA,OAAO;UACL,GAAGF,YAAY;UACfE,UAAU,EAAE;QACd,CAAC;MACH,CAAC,CAAC;MACF;IACF,KAAKlB,mCAAmC;IACxC,KAAKG,oCAAoC;MACvCS,KAAK,CAACH,KAAK,GAAGI,MAAM,CAACJ,KAAK;MAC1BG,KAAK,CAACF,YAAY,GAAGG,MAAM,CAACE,OAAO,CAACI,OAAO;MAC3CP,KAAK,CAACJ,uBAAuB,GAAG,KAAK;MACrC;IACF;EACF;AACF,CAAC,EACDH,YACF,CAAC;AAED,eAAeM,+BAA+B","ignoreList":[]}