{"version":3,"names":["colors","LoadingIndicator","Constants","TipMarker","React","memo","useEffect","useMemo","useRef","useState","MapView","Marker","PROVIDER_GOOGLE","styled","MAP_DELTAS","latitudeDelta","longitudeDelta","RecordAudio","location","createElement","Loading","mapReady","setMapReady","latLng","latitude","coords","longitude","mapRef","_mapRef$current","current","animateToRegion","Fragment","Map","ref","provider","initialRegion","zoomEnabled","rotateEnabled","scrollEnabled","customMapStyle","CUSTOM_MAP_STYLE","loadingEnabled","loadingIndicatorColor","light","loadingBackgroundColor","grey","onMapReady","coordinate","highlight"],"sources":["index.tsx"],"sourcesContent":["/* eslint-disable no-unused-expressions */\nimport { colors } from '../../../../../../assets';\nimport { LoadingIndicator } from '../../../../../../components';\nimport { Constants } from '../../../../../../components/Map';\nimport TipMarker from '../../../../../../containers/screens/Menu/Tips/MyTipsScreen/TipMarker';\nimport React, { FC, memo, useEffect, useMemo, useRef, useState } from 'react';\nimport { Location } from 'react-native-background-geolocation';\nimport MapView, { LatLng, Marker, PROVIDER_GOOGLE } from 'react-native-maps';\nimport styled from '../../../../../../utils/styled';\n\nconst MAP_DELTAS = {\n  latitudeDelta: 0.0057650618492886,\n  longitudeDelta: 0.00398341566324234,\n};\n\ninterface Props {\n  location?: Location;\n}\n\nconst RecordAudio: FC<Props> = ({ location }) => {\n  if (!location) return <Loading />;\n\n  const [mapReady, setMapReady] = useState(false);\n\n  const latLng: LatLng = useMemo(\n    () => ({\n      latitude: location.coords.latitude,\n      longitude: location.coords.longitude,\n    }),\n    [location],\n  );\n\n  const mapRef = useRef<MapView>(null);\n\n  useEffect(() => {\n    if (mapReady) {\n      mapRef.current?.animateToRegion(\n        {\n          ...latLng,\n          ...MAP_DELTAS,\n        },\n        300,\n      );\n    }\n  }, [latLng]);\n\n  return (\n    <>\n      <Map\n        ref={mapRef}\n        provider={PROVIDER_GOOGLE}\n        initialRegion={{\n          ...latLng,\n          ...MAP_DELTAS,\n        }}\n        zoomEnabled={false}\n        rotateEnabled={false}\n        scrollEnabled={false}\n        customMapStyle={Constants.CUSTOM_MAP_STYLE}\n        loadingEnabled\n        loadingIndicatorColor={colors.light}\n        loadingBackgroundColor={colors.grey}\n        onMapReady={() => setMapReady(true)}\n      >\n        <Marker coordinate={latLng}>\n          <TipMarker colors={[colors.highlight, colors.highlight]} />\n        </Marker>\n      </Map>\n    </>\n  );\n};\n\nconst Map = styled(MapView)`\n  min-height: 105%;\n  height: 105%;\n  width: 100%;\n`;\n\nconst Loading = styled(LoadingIndicator)`\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n`;\n\nexport default memo(RecordAudio);\n"],"mappings":"AAAA;AACA,SAASA,MAAM,QAAQ,0BAA0B;AACjD,SAASC,gBAAgB,QAAQ,8BAA8B;AAC/D,SAASC,SAAS,QAAQ,kCAAkC;AAC5D,OAAOC,SAAS,MAAM,uEAAuE;AAC7F,OAAOC,KAAK,IAAQC,IAAI,EAAEC,SAAS,EAAEC,OAAO,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAE7E,OAAOC,OAAO,IAAYC,MAAM,EAAEC,eAAe,QAAQ,mBAAmB;AAC5E,OAAOC,MAAM,MAAM,gCAAgC;AAEnD,MAAMC,UAAU,GAAG;EACjBC,aAAa,EAAE,kBAAkB;EACjCC,cAAc,EAAE;AAClB,CAAC;AAMD,MAAMC,WAAsB,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAC/C,IAAI,CAACA,QAAQ,EAAE,oBAAOd,KAAA,CAAAe,aAAA,CAACC,OAAO,MAAE,CAAC;EAEjC,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGb,QAAQ,CAAC,KAAK,CAAC;EAE/C,MAAMc,MAAc,GAAGhB,OAAO,CAC5B,OAAO;IACLiB,QAAQ,EAAEN,QAAQ,CAACO,MAAM,CAACD,QAAQ;IAClCE,SAAS,EAAER,QAAQ,CAACO,MAAM,CAACC;EAC7B,CAAC,CAAC,EACF,CAACR,QAAQ,CACX,CAAC;EAED,MAAMS,MAAM,GAAGnB,MAAM,CAAU,IAAI,CAAC;EAEpCF,SAAS,CAAC,MAAM;IACd,IAAIe,QAAQ,EAAE;MAAA,IAAAO,eAAA;MACZ,CAAAA,eAAA,GAAAD,MAAM,CAACE,OAAO,cAAAD,eAAA,eAAdA,eAAA,CAAgBE,eAAe,CAC7B;QACE,GAAGP,MAAM;QACT,GAAGT;MACL,CAAC,EACD,GACF,CAAC;IACH;EACF,CAAC,EAAE,CAACS,MAAM,CAAC,CAAC;EAEZ,oBACEnB,KAAA,CAAAe,aAAA,CAAAf,KAAA,CAAA2B,QAAA,qBACE3B,KAAA,CAAAe,aAAA,CAACa,GAAG;IACFC,GAAG,EAAEN,MAAO;IACZO,QAAQ,EAAEtB,eAAgB;IAC1BuB,aAAa,EAAE;MACb,GAAGZ,MAAM;MACT,GAAGT;IACL,CAAE;IACFsB,WAAW,EAAE,KAAM;IACnBC,aAAa,EAAE,KAAM;IACrBC,aAAa,EAAE,KAAM;IACrBC,cAAc,EAAErC,SAAS,CAACsC,gBAAiB;IAC3CC,cAAc;IACdC,qBAAqB,EAAE1C,MAAM,CAAC2C,KAAM;IACpCC,sBAAsB,EAAE5C,MAAM,CAAC6C,IAAK;IACpCC,UAAU,EAAEA,CAAA,KAAMxB,WAAW,CAAC,IAAI;EAAE,gBAEpClB,KAAA,CAAAe,aAAA,CAACR,MAAM;IAACoC,UAAU,EAAExB;EAAO,gBACzBnB,KAAA,CAAAe,aAAA,CAAChB,SAAS;IAACH,MAAM,EAAE,CAACA,MAAM,CAACgD,SAAS,EAAEhD,MAAM,CAACgD,SAAS;EAAE,CAAE,CACpD,CACL,CACL,CAAC;AAEP,CAAC;AAED,MAAMhB,GAAG,GAAGnB,MAAM,CAACH,OAAO,CAAC;AAC3B;AACA;AACA;AACA,CAAC;AAED,MAAMU,OAAO,GAAGP,MAAM,CAACZ,gBAAgB,CAAC;AACxC;AACA;AACA;AACA;AACA;AACA,CAAC;AAED,4BAAeI,IAAI,CAACY,WAAW,CAAC","ignoreList":[]}