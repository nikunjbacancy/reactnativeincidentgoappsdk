{"version":3,"names":["produce","ADD_MESSAGE","APP_STATE_STATUS_CHANGE","ENTER_PANIC_MODE","EXIT_PANIC_MODE","HANDLE_ERROR_FAILURE","HIDE_CALL_MODAL","HIDE_CHAT_MODAL","HIDE_EXIT_PANIC_MODAL","HIDE_PANIC_INFO","HIDE_SAFE_MODAL","IM_SAFE_FAILURE","IM_SAFE_REQUEST","IM_SAFE_SUCCESS","SET_TRIGGERED_FROM_PASSIVE","SHOW_CALL_MODAL","SHOW_CHAT_MODAL","SHOW_EXIT_PANIC_MODAL","SHOW_PANIC_INFO","SHOW_SAFE_MODAL","START_CHAT_SUCCESS","TOGGLE_RECORD_TYPE","RecordType","initialState","shouldShowCallModal","shouldShowSafeModal","shouldShowExitPanicModal","shouldShowPanicInfo","recordType","Audio","shouldShowChatModal","messages","requestingImSafe","isPanicMode","fromPassiveEscort","error","errorMessage","appState","recordScreenReducer","draft","action","type","payload","unshift","Video","message","state"],"sources":["reducer.ts"],"sourcesContent":["/**\n *\n * SelectOrganizationScreen reducer\n *\n */\n\nimport produce, { Draft } from 'immer';\n\nimport {\n  ADD_MESSAGE,\n  APP_STATE_STATUS_CHANGE,\n  ENTER_PANIC_MODE,\n  EXIT_PANIC_MODE,\n  HANDLE_ERROR_FAILURE,\n  HIDE_CALL_MODAL,\n  HIDE_CHAT_MODAL,\n  HIDE_EXIT_PANIC_MODAL,\n  HIDE_PANIC_INFO,\n  HIDE_SAFE_MODAL,\n  IM_SAFE_FAILURE,\n  IM_SAFE_REQUEST,\n  IM_SAFE_SUCCESS,\n  SET_TRIGGERED_FROM_PASSIVE,\n  SHOW_CALL_MODAL,\n  SHOW_CHAT_MODAL,\n  SHOW_EXIT_PANIC_MODAL,\n  SHOW_PANIC_INFO,\n  SHOW_SAFE_MODAL,\n  START_CHAT_SUCCESS,\n  TOGGLE_RECORD_TYPE,\n} from './constants';\nimport { RecordScreenActionTypes, RecordState, RecordType } from './types';\n\nexport const initialState: RecordState = {\n  shouldShowCallModal: false,\n  shouldShowSafeModal: false,\n  shouldShowExitPanicModal: false,\n  shouldShowPanicInfo: false,\n  recordType: RecordType.Audio,\n  shouldShowChatModal: false,\n  messages: [],\n  requestingImSafe: false,\n  isPanicMode: false,\n  fromPassiveEscort: false,\n  error: false,\n  errorMessage: '',\n  appState: 'active',\n};\n\nconst recordScreenReducer = produce(\n  (draft: Draft<RecordState>, action: RecordScreenActionTypes) => {\n    switch (action.type) {\n      case SHOW_CALL_MODAL:\n        draft.shouldShowCallModal = true;\n        break;\n      case HIDE_CALL_MODAL:\n        draft.shouldShowCallModal = false;\n        break;\n      case SHOW_SAFE_MODAL:\n        draft.shouldShowSafeModal = true;\n        break;\n      case HIDE_SAFE_MODAL:\n        draft.shouldShowSafeModal = false;\n        break;\n      case SHOW_CHAT_MODAL:\n        draft.shouldShowChatModal = true;\n        break;\n      case HIDE_CHAT_MODAL:\n        draft.shouldShowChatModal = false;\n        break;\n      case START_CHAT_SUCCESS:\n        //(\"-message success action.payload->\",action.payload)\n        draft.messages = action.payload;\n        break;\n      case ADD_MESSAGE:\n        draft.messages.unshift(action.payload);\n        break;\n      case TOGGLE_RECORD_TYPE:\n        draft.recordType =\n          draft.recordType === RecordType.Audio\n            ? RecordType.Video\n            : RecordType.Audio;\n        break;\n      case IM_SAFE_REQUEST:\n        draft.requestingImSafe = true;\n        break;\n      case IM_SAFE_SUCCESS:\n        draft.shouldShowCallModal = false;\n        draft.shouldShowExitPanicModal = false;\n        draft.shouldShowPanicInfo = false;\n        draft.recordType = RecordType.Audio;\n        draft.shouldShowChatModal = false;\n        draft.messages = [];\n        draft.requestingImSafe = false;\n        draft.isPanicMode = false;\n        draft.fromPassiveEscort = false;\n        break;\n      case IM_SAFE_FAILURE:\n        draft.requestingImSafe = false;\n        break;\n      case SHOW_PANIC_INFO:\n        draft.shouldShowPanicInfo = true;\n        break;\n      case HIDE_PANIC_INFO:\n        draft.shouldShowPanicInfo = false;\n        break;\n      case ENTER_PANIC_MODE:\n        draft.isPanicMode = true;\n        break;\n      case EXIT_PANIC_MODE:\n        draft.isPanicMode = false;\n        break;\n      case SHOW_EXIT_PANIC_MODAL:\n        draft.shouldShowExitPanicModal = true;\n        break;\n      case HIDE_EXIT_PANIC_MODAL:\n        draft.shouldShowExitPanicModal = false;\n        break;\n      case SET_TRIGGERED_FROM_PASSIVE:\n        draft.fromPassiveEscort = true;\n        break;\n      case HANDLE_ERROR_FAILURE:\n        draft.error = action.error;\n        draft.errorMessage = action.payload.message;\n        break;\n      case APP_STATE_STATUS_CHANGE:\n        draft.appState = action.payload.state;\n        break;\n      default:\n    }\n  },\n  initialState,\n);\n\nexport default recordScreenReducer;\n"],"mappings":"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","ignoreList":[]}