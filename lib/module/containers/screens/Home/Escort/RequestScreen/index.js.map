{"version":3,"names":["Header","SafeAreaContainer","addScreenAction","Screens","React","useEffect","useIntl","StatusBar","useAction","useBackButton","useSelector","NavigatorService","PanicOverlay","showCancelEscortModal","CancelEscortModal","SHOW_CANCEL_ESCORT_MODAL","messages","makeSelectRequestingEscort","makeSelectShouldShowCancelEscortModal","CancelEscortButton","Container","RequestEscortContainer","RequestEscortLoading","RequestEscortMessage","RequestEscortTitle","RequestingContainer","RequestComponent","navigation","isPanic","getParam","formatMessage","showCancelEscortModalAction","addRequestingEscortScreenAction","requestingEscort","shouldShowCancelEscortModal","type","actionText","cancelRequest","action","navigate","Home","Escort","EscortType","determineTitle","Panictitle","Livetitle","createElement","Fragment","barStyle","backgroundColor","isKeyboard","title","requestEscort","Panicmessage","Livemessage","onPress","text","isVisible"],"sources":["index.tsx"],"sourcesContent":["import { Header, SafeAreaContainer } from '../../../../../components';\nimport { addScreenAction } from '../../../../../containers/providers/RoutesProvider/actions';\nimport Screens from '../../../../../containers/providers/RoutesProvider/screens';\nimport React, { FC, useEffect } from 'react';\nimport { useIntl } from 'react-intl';\nimport { StatusBar } from 'react-native';\nimport { NavigationStackScreenProps } from 'react-navigation-stack';\nimport { useAction, useBackButton, useSelector } from '../../../../../utils/hooks';\nimport NavigatorService from '../../../../../utils/navigation';\n\nimport { PanicOverlay } from '../RecordScreen/styles';\nimport { showCancelEscortModal } from './actions';\nimport CancelEscortModal from './CancelEscortModal';\nimport { SHOW_CANCEL_ESCORT_MODAL } from './constants';\nimport messages from './messages';\nimport {\n  makeSelectRequestingEscort,\n  makeSelectShouldShowCancelEscortModal,\n} from './selectors';\nimport {\n  CancelEscortButton,\n  Container,\n  RequestEscortContainer,\n  RequestEscortLoading,\n  RequestEscortMessage,\n  RequestEscortTitle,\n  RequestingContainer,\n} from './styles';\nimport { EscortType } from './types';\n\ninterface RequestComponentProps {\n  isPanic: boolean;\n  requestType: EscortType;\n}\n\ntype Props = NavigationStackScreenProps<RequestComponentProps>;\n\nconst RequestComponent: FC<Props> = ({ navigation }: Props) => {\n  const isPanic = navigation.getParam('isPanic');\n  const { formatMessage } = useIntl();\n\n  const showCancelEscortModalAction = useAction(showCancelEscortModal);\n  const addRequestingEscortScreenAction = useAction(addScreenAction);\n\n  const requestingEscort = useSelector(makeSelectRequestingEscort());\n  const shouldShowCancelEscortModal = useSelector(\n    makeSelectShouldShowCancelEscortModal(),\n  );\n\n  useEffect(() => {\n    if (requestingEscort) {\n      addRequestingEscortScreenAction({\n        type: SHOW_CANCEL_ESCORT_MODAL,\n        actionText: formatMessage(messages.cancelRequest),\n        action: showCancelEscortModalAction,\n      });\n    }\n  }, [requestingEscort]);\n\n  useBackButton(() => {\n    //(\"isPanic=======>\",isPanic)\n    if (!isPanic) {\n      NavigatorService.navigate(Screens.Home.Escort.EscortType);\n    }\n    return true;\n  });\n\n  const determineTitle = () => {\n    if (isPanic) {\n      return formatMessage(messages.Panictitle);\n    }\n    return formatMessage(messages.Livetitle);\n  };\n\n  return (\n    <>\n      <StatusBar barStyle=\"dark-content\" backgroundColor=\"white\" />\n      <SafeAreaContainer>\n        <Container isKeyboard={false}>\n          <RequestEscortContainer>\n            <Header title={formatMessage(messages.requestEscort)} />\n            <RequestingContainer>\n              <RequestEscortLoading />\n              <RequestEscortTitle>{determineTitle()}</RequestEscortTitle>\n              <RequestEscortMessage>\n                {isPanic\n                  ? formatMessage(messages.Panicmessage)\n                  : formatMessage(messages.Livemessage)}\n              </RequestEscortMessage>\n            </RequestingContainer>\n            {!isPanic && (\n              <CancelEscortButton\n                onPress={showCancelEscortModalAction}\n                text={formatMessage(messages.cancelRequest)}\n              />\n            )}\n          </RequestEscortContainer>\n          <CancelEscortModal isVisible={shouldShowCancelEscortModal} />\n        </Container>\n      </SafeAreaContainer>\n      {isPanic && <PanicOverlay />}\n    </>\n  );\n};\n\nexport default RequestComponent;\n"],"mappings":"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","ignoreList":[]}