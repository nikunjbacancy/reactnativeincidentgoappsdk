{"version":3,"names":["api","UserSettingKey","call","put","takeLatest","toggleUserNotificationFailure","toggleUserNotificationSuccess","TOGGLE_USER_NOTIFICATION_REQUEST","toggleUserNotification","payload","user","setSetting","NotificationEnabled","error","notificationScreenSaga"],"sources":["saga.ts"],"sourcesContent":["/**\n *\n * NotificationScreen saga\n *\n */\n\nimport * as api from '../../../../api';\nimport { UserSettingKey } from 'incident-code-core';\nimport { call, put, takeLatest } from 'redux-saga/effects';\n// import { handleError } from '../../../../utils/error';\n\nimport {\n  toggleUserNotificationFailure,\n  toggleUserNotificationSuccess,\n} from './actions';\nimport { TOGGLE_USER_NOTIFICATION_REQUEST } from './constants';\nimport { ToggleUserNotificationRequestAction } from './types';\n// import Toast from 'react-native-root-toast';\n\nexport function* toggleUserNotification({\n  payload,\n}: ToggleUserNotificationRequestAction) {\n  // console.log(\"api.user.setSetting,:\" + api.user.setSetting);\n  // console.log(\"UserSettingKey.NotificationEnabled,:\" + UserSettingKey.NotificationEnabled);\n  // console.log(\"payload:\" + payload);\n  try {\n    yield call(\n      api.user.setSetting,\n      UserSettingKey.NotificationEnabled,\n      payload,\n    );\n    yield put(toggleUserNotificationSuccess(payload));\n  } catch (error) {\n    yield put(toggleUserNotificationFailure(error as Error));\n  }\n}\n\n// export function* accountDelete({\n//   payload,\n// }: DeleteUserRequest) {\n//   // console.log(\"payload:\" + payload);\n//   try {\n//     // console.log(\"payload 2:\" + payload);\n//     const response = yield call(api.user.accountDelete, payload);\n//     yield put(deleteUserSucess(response.data));\n//   } catch (error) {\n//     Toast.show(error.message, {\n//       position: Toast.positions.CENTER,\n//       duration: 3000\n//     });\n//     yield put(deleteUserFailure(error as Error));\n//   }\n// }\n\nexport default function* notificationScreenSaga() {\n  yield takeLatest(TOGGLE_USER_NOTIFICATION_REQUEST, toggleUserNotification);\n  // yield takeLatest(DELETE_USER_REQUEST, accountDelete);\n}\n\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;;AAEA,OAAO,KAAKA,GAAG,MAAM,iBAAiB;AACtC,SAASC,cAAc,QAAQ,oBAAoB;AACnD,SAASC,IAAI,EAAEC,GAAG,EAAEC,UAAU,QAAQ,oBAAoB;AAC1D;;AAEA,SACEC,6BAA6B,EAC7BC,6BAA6B,QACxB,WAAW;AAClB,SAASC,gCAAgC,QAAQ,aAAa;AAE9D;;AAEA,OAAO,UAAUC,sBAAsBA,CAAC;EACtCC;AACmC,CAAC,EAAE;EACtC;EACA;EACA;EACA,IAAI;IACF,MAAMP,IAAI,CACRF,GAAG,CAACU,IAAI,CAACC,UAAU,EACnBV,cAAc,CAACW,mBAAmB,EAClCH,OACF,CAAC;IACD,MAAMN,GAAG,CAACG,6BAA6B,CAACG,OAAO,CAAC,CAAC;EACnD,CAAC,CAAC,OAAOI,KAAK,EAAE;IACd,MAAMV,GAAG,CAACE,6BAA6B,CAACQ,KAAc,CAAC,CAAC;EAC1D;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,eAAe,UAAUC,sBAAsBA,CAAA,EAAG;EAChD,MAAMV,UAAU,CAACG,gCAAgC,EAAEC,sBAAsB,CAAC;EAC1E;AACF","ignoreList":[]}