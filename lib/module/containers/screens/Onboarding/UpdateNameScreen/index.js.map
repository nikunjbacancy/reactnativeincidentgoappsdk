{"version":3,"names":["images","Form","IconButton","PaddingView","SafeAreaContainer","SubmitButtonField","makeSelectUser","Screens","React","useCallback","useIntl","Image","ScrollView","StatusBar","Toast","useSelector","UPDATE_NAME_FAILURE","UPDATE_NAME_REQUEST","UPDATE_NAME_SUCCESS","messages","BackButtonCol","Background","InputRow","LogoRow","NameErrorField","NameInputField","PrivacyRow","PrivacyText","SubmitButtonRow","TitleRow","TitleText","UpdateNameSchema","AsyncStorage","UpdateNameScreen","navigation","goBack","replace","formatMessage","schema","user","initialValues","firstName","lastName","goBackToSignIn","goToAddUserPortraitScreen","removeItem","Onboarding","AddUserPortrait","createElement","Fragment","barStyle","backgroundColor","contentContainerStyle","flex","keyboardShouldPersistTaps","keyboardDismissMode","source","icBackDark","onPress","logoWithText","title","phone","start","resolve","reject","validationSchema","onResolve","onReject","action","show","payload","message","position","positions","BOTTOM","name","textContentType","placeholder","firstNamePlaceholder","lastNamePlaceholder","privacy","size","text","next"],"sources":["index.tsx"],"sourcesContent":["import { images } from '../../../../assets';\nimport {\n  Form,\n  IconButton,\n  PaddingView,\n  SafeAreaContainer,\n  SubmitButtonField,\n} from '../../../../components';\nimport { makeSelectUser } from '../../../../containers/app/selectors';\nimport Screens from '../../../../containers/providers/RoutesProvider/screens';\nimport React, { FC, useCallback } from 'react';\nimport { useIntl } from 'react-intl';\nimport { Image, ScrollView, StatusBar } from 'react-native';\nimport Toast from 'react-native-root-toast';\nimport { ScreenProps } from 'react-native-screens';\nimport { NavigationStackScreenProps } from 'react-navigation-stack';\nimport { useSelector } from '../../../../utils/hooks';\n\nimport {\n  UPDATE_NAME_FAILURE,\n  UPDATE_NAME_REQUEST,\n  UPDATE_NAME_SUCCESS,\n} from './constants';\nimport messages from './messages';\nimport {\n  BackButtonCol,\n  Background,\n  InputRow,\n  LogoRow,\n  NameErrorField,\n  NameInputField,\n  PrivacyRow,\n  PrivacyText,\n  SubmitButtonRow,\n  TitleRow,\n  TitleText,\n} from './styles';\nimport UpdateNameSchema from './validator';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\n\ninterface Params {}\n\ninterface Props extends NavigationStackScreenProps<Params, ScreenProps> {}\n\nconst UpdateNameScreen: FC<Props> = ({ navigation: { goBack, replace } }) => {\n  \n  const { formatMessage } = useIntl();\n  const schema = UpdateNameSchema(formatMessage);\n  const user = useSelector(makeSelectUser());\n  const initialValues = {\n    firstName: user.firstName || '',\n    lastName: user.lastName || '',\n  };\n\n  const   goBackToSignIn = useCallback(() => goBack(), []);\n  const goToAddUserPortraitScreen = () => {\n    AsyncStorage.removeItem(\"isLogout\")\n    replace(Screens.Onboarding.AddUserPortrait);\n  } \n\n  if (user)\n    return (\n      <>\n        <StatusBar barStyle=\"dark-content\" backgroundColor=\"white\" />\n        <Background />\n        <SafeAreaContainer>\n          <ScrollView\n            contentContainerStyle={{ flex: 1 }}\n            keyboardShouldPersistTaps=\"always\"\n            keyboardDismissMode=\"on-drag\"\n          >\n            <LogoRow>\n              <BackButtonCol>\n                <IconButton\n                  source={images.icBackDark()}\n                  onPress={goBackToSignIn}\n                />\n              </BackButtonCol>\n              <Image source={images.logoWithText()} />\n            </LogoRow>\n            <TitleRow>\n              <TitleText>{formatMessage(messages.title)}</TitleText>\n            </TitleRow>\n            {user.phone && (\n              <Form\n                start={UPDATE_NAME_REQUEST}\n                resolve={UPDATE_NAME_SUCCESS}\n                reject={UPDATE_NAME_FAILURE}\n                initialValues={initialValues}\n                validationSchema={schema}\n                onResolve={goToAddUserPortraitScreen}\n                onReject={action =>\n                  Toast.show(action.payload.message, {\n                    position: Toast.positions.BOTTOM,\n                  })\n                }\n              >\n                <>\n                  <InputRow>\n                    <NameInputField\n                      name=\"firstName\"\n                      textContentType=\"givenName\"\n                      placeholder={formatMessage(messages.firstNamePlaceholder)}\n                    />\n                  </InputRow>\n                  <NameErrorField name=\"firstName\" />\n                  <InputRow>\n                    <NameInputField\n                      name=\"lastName\"\n                      textContentType=\"familyName\"\n                      placeholder={formatMessage(messages.lastNamePlaceholder)}\n                    />\n                  </InputRow>\n                  <NameErrorField name=\"lastName\" />\n                  <PrivacyRow>\n                    <PrivacyText>{formatMessage(messages.privacy)}</PrivacyText>\n                  </PrivacyRow>\n                  <PaddingView size={1} />\n                </>\n                <SubmitButtonRow>\n                  <SubmitButtonField text={formatMessage(messages.next)} />\n                </SubmitButtonRow>\n              </Form>\n            )}\n          </ScrollView>\n        </SafeAreaContainer>\n      </>\n    );\n  else \n  return null;\n};\n\nexport default UpdateNameScreen;\n"],"mappings":"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","ignoreList":[]}