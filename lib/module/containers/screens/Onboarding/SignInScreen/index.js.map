{"version":3,"names":["images","CheckBoxField","Form","PaddingView","SafeAreaContainer","SubmitButtonField","LINKS","Screens","React","useCallback","useIntl","Image","ScrollView","StatusBar","Toast","SEND_CODE_FAILURE","SEND_CODE_REQUEST","SEND_CODE_SUCCESS","messages","AgreeText","AgreeTosError","Background","CountryText","InputRow","PrivacyPolicyText","LinkText","LogoRow","PhoneError","PhoneInputCol","PhoneLabelCol","PhoneText","SubmitButtonRow","TitleRow","TitleText","TosRow","SignInSchema","SignInScreen","navigation","navigate","formatMessage","schema","initialValues","phone","agreeTos","goToSignInCodeScreen","action","Onboarding","SignInCode","payload","createElement","Fragment","barStyle","backgroundColor","contentContainerStyle","flex","keyboardShouldPersistTaps","keyboardDismissMode","source","logoWithText","title","start","resolve","reject","validationSchema","onResolve","onReject","show","message","position","positions","TOP","duration","opacity","hideOnPress","countryCode","name","keyboardType","keyboardAppearance","placeholder","phonePlaceholder","tos","key","link","privacyPolicy","PrivacyPolicy","size","text","sendCode"],"sources":["index.tsx"],"sourcesContent":["import { images } from '../../../../assets';\nimport {\n  CheckBoxField,\n  Form,\n  PaddingView,\n  SafeAreaContainer,\n  SubmitButtonField,\n} from '../../../../components';\nimport { LINKS } from '../../../../containers/app/constants';\nimport Screens from '../../../../containers/providers/RoutesProvider/screens';\nimport React, { FC, useCallback } from 'react';\nimport { useIntl } from 'react-intl';\nimport { Image, ScrollView, StatusBar } from 'react-native';\nimport Toast from 'react-native-root-toast';\nimport { ScreenProps } from 'react-native-screens';\nimport { NavigationStackScreenProps } from 'react-navigation-stack';\nimport { FluxAction } from 'types';\n\nimport {\n  SEND_CODE_FAILURE,\n  SEND_CODE_REQUEST,\n  SEND_CODE_SUCCESS,\n} from './constants';\nimport messages from './messages';\nimport {\n  AgreeText,\n  AgreeTosError,\n  Background,\n  CountryText,\n  InputRow,\n  PrivacyPolicyText,\n  LinkText,\n  LogoRow,\n  PhoneError,\n  PhoneInputCol,\n  PhoneLabelCol,\n  PhoneText,\n  SubmitButtonRow,\n  TitleRow,\n  TitleText,\n  TosRow,\n} from './styles';\nimport SignInSchema from './validator';\n\ninterface Params {}\ninterface Props extends NavigationStackScreenProps<Params, ScreenProps> {}\n\nconst SignInScreen: FC<Props> = ({ navigation: { navigate } }) => {\n  const { formatMessage } = useIntl();\n  const schema = SignInSchema(formatMessage);\n  const initialValues = {\n    phone: '',\n    agreeTos: false,\n  };\n  const goToSignInCodeScreen = useCallback(\n    (action: FluxAction) =>\n      navigate(Screens.Onboarding.SignInCode, { phone: action.payload }),\n    [navigate],\n  );\n  return (\n    <>\n      <StatusBar barStyle=\"dark-content\" backgroundColor=\"white\" />\n      <Background />\n      <SafeAreaContainer>\n        <ScrollView\n          contentContainerStyle={{ flex: 1 }}\n          keyboardShouldPersistTaps=\"always\"\n          keyboardDismissMode=\"on-drag\"\n        >\n          <LogoRow>\n            <Image source={images.logoWithText()} />\n          </LogoRow>\n          <TitleRow>\n            <TitleText>{formatMessage(messages.title)}</TitleText>\n          </TitleRow>\n          <Form\n            start={SEND_CODE_REQUEST}\n            resolve={SEND_CODE_SUCCESS}\n            reject={SEND_CODE_FAILURE}\n            initialValues={initialValues}\n            validationSchema={schema}\n            onResolve={goToSignInCodeScreen}\n            onReject={action =>\n              Toast.show(action.payload.message, {\n                position: Toast.positions.TOP,\n                duration: 10000,\n                opacity: 1,\n                hideOnPress: true,\n              })\n            }\n          >\n            <>\n              <InputRow>\n                <PhoneLabelCol>\n                  <CountryText>\n                    {formatMessage(messages.countryCode)}\n                  </CountryText>\n                </PhoneLabelCol>\n                <PhoneInputCol>\n                  <PhoneText\n                    name=\"phone\"\n                    keyboardType=\"phone-pad\"\n                    keyboardAppearance=\"light\"\n                    placeholder={formatMessage(messages.phonePlaceholder)}\n                  />\n                </PhoneInputCol>\n              </InputRow>\n              <PhoneError />\n              <TosRow>\n                <CheckBoxField name=\"agreeTos\" />\n                <AgreeText>\n                  {formatMessage(messages.agreeTos, {\n                    tos: (\n                      <LinkText key=\"1\" link={LINKS.tos}>\n                        {formatMessage(messages.tos)}\n                      </LinkText>\n                    ), privacyPolicy: (\n                      <PrivacyPolicyText key=\"2\" link={() => navigate(Screens.Onboarding.PrivacyPolicy)} >\n                        {formatMessage(messages.privacyPolicy)}\n                      </PrivacyPolicyText>\n                    )\n                  })}\n                </AgreeText>\n              </TosRow>\n              <AgreeTosError />\n              <PaddingView size={1} />\n            </>\n            <SubmitButtonRow>\n              <SubmitButtonField text={formatMessage(messages.sendCode)} />\n            </SubmitButtonRow>\n          </Form>\n        </ScrollView>\n      </SafeAreaContainer>\n    </>\n  );\n};\n\nexport default SignInScreen;\n"],"mappings":"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","ignoreList":[]}