{"version":3,"names":["AsyncStorage","ExpireOffset","KeyTwilioAccessToken","saveTwilioAccessToken","token","tokenWithExpire","expires_at","Date","now","expires_in","setItem","JSON","stringify"],"sources":["saveTwilioAccessToken.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/camelcase */\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { ExpireOffset, KeyTwilioAccessToken } from '../../api/twilio/constants';\nimport { AccessToken } from 'incident-code-core';\n\nconst saveTwilioAccessToken = async (token: AccessToken) => {\n  const tokenWithExpire = !token.expires_at\n    ? {\n        ...token,\n        expires_at: Date.now() + (token.expires_in || 1) * 1000 - ExpireOffset,\n      }\n    : token;\n  await AsyncStorage.setItem(\n    KeyTwilioAccessToken,\n    JSON.stringify(tokenWithExpire),\n  );\n};\n\nexport default saveTwilioAccessToken;\n"],"mappings":"AAAA;AACA,OAAOA,YAAY,MAAM,2CAA2C;AACpE,SAASC,YAAY,EAAEC,oBAAoB,QAAQ,4BAA4B;AAG/E,MAAMC,qBAAqB,GAAG,MAAOC,KAAkB,IAAK;EAC1D,MAAMC,eAAe,GAAG,CAACD,KAAK,CAACE,UAAU,GACrC;IACE,GAAGF,KAAK;IACRE,UAAU,EAAEC,IAAI,CAACC,GAAG,CAAC,CAAC,GAAG,CAACJ,KAAK,CAACK,UAAU,IAAI,CAAC,IAAI,IAAI,GAAGR;EAC5D,CAAC,GACDG,KAAK;EACT,MAAMJ,YAAY,CAACU,OAAO,CACxBR,oBAAoB,EACpBS,IAAI,CAACC,SAAS,CAACP,eAAe,CAChC,CAAC;AACH,CAAC;AAED,eAAeF,qBAAqB","ignoreList":[]}