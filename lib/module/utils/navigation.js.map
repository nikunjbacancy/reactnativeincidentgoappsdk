{"version":3,"names":["NavigationActions","StackActions","fbLogScreen","navigator","setTopLevelNavigator","navigatorRef","navigate","routeName","params","dispatch","back","options","popToTop","getActiveRouteName","navigationState","route","routes","index","logScreen","prevState","currentState","currentRouteName","previousRouteName","NavigatorService"],"sources":["navigation.ts"],"sourcesContent":["import {\n  NavigationActions,\n  NavigationBackActionPayload,\n  NavigationContainerComponent,\n  NavigationParams,\n  NavigationPopToTopActionPayload,\n  NavigationState,\n  StackActions,\n} from 'react-navigation';\n\nimport fbLogScreen from './firebase/logScreen';\n\nlet navigator: NavigationContainerComponent | null;\n\n\nconst setTopLevelNavigator = (\n  navigatorRef: NavigationContainerComponent | null,\n) => {\n  navigator = navigatorRef;\n};\n\nconst navigate = (routeName: string, params: NavigationParams = {}) => {\n  if (navigator) {\n    navigator.dispatch(\n      NavigationActions.navigate({\n        routeName,\n        params,\n      }),\n    );\n  }\n};\n\nconst back = (options?: NavigationBackActionPayload) => {\n  if (navigator) {\n    navigator.dispatch(NavigationActions.back(options));\n  }\n};\n\nconst popToTop = (options?: NavigationPopToTopActionPayload) => {\n  if (navigator) {\n    navigator.dispatch(StackActions.popToTop(options));\n  }\n};\n\n// const reset = (routeName: string) => {\n//   if (navigator) {\n//     navigator.dispatch(\n//       NavigationActions.reset({\n//         index: 0,\n//         actions: [\n//           NavigationActions.navigate({ routeName: 'Portal'})\n//         ],\n//        key:null\n//       })\n//     );\n//   }\n// };\n\n\nconst getActiveRouteName = (navigationState: NavigationState): string => {\n  if (!navigationState) {\n    return '';\n  }\n  const route = navigationState.routes[navigationState.index];\n  // dive into nested navigators\n  if (route.routes) {\n    return getActiveRouteName(route);\n  }\n  return route.routeName;\n};\n\nconst logScreen = (\n  prevState: NavigationState,\n  currentState: NavigationState,\n) => {\n  const currentRouteName = getActiveRouteName(currentState);\n  const previousRouteName = getActiveRouteName(prevState);\n\n  if (previousRouteName !== currentRouteName) {\n    // fbLogScreen(currentRouteName);\n    fbLogScreen();\n  }\n};\n\nconst NavigatorService = {\n  navigate,\n  back,\n  popToTop,\n  setTopLevelNavigator,\n  logScreen,\n};\n\nexport default NavigatorService;\n"],"mappings":"AAAA,SACEA,iBAAiB,EAMjBC,YAAY,QACP,kBAAkB;AAEzB,OAAOC,WAAW,MAAM,sBAAsB;AAE9C,IAAIC,SAA8C;AAGlD,MAAMC,oBAAoB,GACxBC,YAAiD,IAC9C;EACHF,SAAS,GAAGE,YAAY;AAC1B,CAAC;AAED,MAAMC,QAAQ,GAAGA,CAACC,SAAiB,EAAEC,MAAwB,GAAG,CAAC,CAAC,KAAK;EACrE,IAAIL,SAAS,EAAE;IACbA,SAAS,CAACM,QAAQ,CAChBT,iBAAiB,CAACM,QAAQ,CAAC;MACzBC,SAAS;MACTC;IACF,CAAC,CACH,CAAC;EACH;AACF,CAAC;AAED,MAAME,IAAI,GAAIC,OAAqC,IAAK;EACtD,IAAIR,SAAS,EAAE;IACbA,SAAS,CAACM,QAAQ,CAACT,iBAAiB,CAACU,IAAI,CAACC,OAAO,CAAC,CAAC;EACrD;AACF,CAAC;AAED,MAAMC,QAAQ,GAAID,OAAyC,IAAK;EAC9D,IAAIR,SAAS,EAAE;IACbA,SAAS,CAACM,QAAQ,CAACR,YAAY,CAACW,QAAQ,CAACD,OAAO,CAAC,CAAC;EACpD;AACF,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA,MAAME,kBAAkB,GAAIC,eAAgC,IAAa;EACvE,IAAI,CAACA,eAAe,EAAE;IACpB,OAAO,EAAE;EACX;EACA,MAAMC,KAAK,GAAGD,eAAe,CAACE,MAAM,CAACF,eAAe,CAACG,KAAK,CAAC;EAC3D;EACA,IAAIF,KAAK,CAACC,MAAM,EAAE;IAChB,OAAOH,kBAAkB,CAACE,KAAK,CAAC;EAClC;EACA,OAAOA,KAAK,CAACR,SAAS;AACxB,CAAC;AAED,MAAMW,SAAS,GAAGA,CAChBC,SAA0B,EAC1BC,YAA6B,KAC1B;EACH,MAAMC,gBAAgB,GAAGR,kBAAkB,CAACO,YAAY,CAAC;EACzD,MAAME,iBAAiB,GAAGT,kBAAkB,CAACM,SAAS,CAAC;EAEvD,IAAIG,iBAAiB,KAAKD,gBAAgB,EAAE;IAC1C;IACAnB,WAAW,CAAC,CAAC;EACf;AACF,CAAC;AAED,MAAMqB,gBAAgB,GAAG;EACvBjB,QAAQ;EACRI,IAAI;EACJE,QAAQ;EACRR,oBAAoB;EACpBc;AACF,CAAC;AAED,eAAeK,gBAAgB","ignoreList":[]}