{"version":3,"names":["forEach","splitVideosOnPages","videos","pages","chunk","i","length","slice","push","skipped","sliceIndex","isLastVideo","id","text"],"sources":["splitVideosOnPages.ts"],"sourcesContent":["import forEach from 'lodash/forEach';\nimport { IncidentVideoInfo } from 'types';\n\nconst splitVideosOnPages = (\n  videos: IncidentVideoInfo[],\n): IncidentVideoInfo[][] => {\n  const pages = [];\n  const chunk = 3;\n\n  for (let i = 0; i < videos.length; i += chunk) {\n    const slice = videos.slice(i, i + chunk);\n    pages.push(slice);\n  }\n\n  let skipped = 0;\n  if (pages.length > 1) {\n    forEach(pages, (slice: IncidentVideoInfo[], sliceIndex) => {\n      skipped += slice.length;\n      const isLastVideo = sliceIndex === pages.length - 1;\n\n      slice.push({\n        id: `page-${sliceIndex}-last`,\n        text: isLastVideo ? 'back' : `${videos.length - skipped}+`,\n      });\n    });\n  }\n\n  return pages;\n};\n\nexport default splitVideosOnPages;\n"],"mappings":"AAAA,OAAOA,OAAO,MAAM,gBAAgB;AAGpC,MAAMC,kBAAkB,GACtBC,MAA2B,IACD;EAC1B,MAAMC,KAAK,GAAG,EAAE;EAChB,MAAMC,KAAK,GAAG,CAAC;EAEf,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGH,MAAM,CAACI,MAAM,EAAED,CAAC,IAAID,KAAK,EAAE;IAC7C,MAAMG,KAAK,GAAGL,MAAM,CAACK,KAAK,CAACF,CAAC,EAAEA,CAAC,GAAGD,KAAK,CAAC;IACxCD,KAAK,CAACK,IAAI,CAACD,KAAK,CAAC;EACnB;EAEA,IAAIE,OAAO,GAAG,CAAC;EACf,IAAIN,KAAK,CAACG,MAAM,GAAG,CAAC,EAAE;IACpBN,OAAO,CAACG,KAAK,EAAE,CAACI,KAA0B,EAAEG,UAAU,KAAK;MACzDD,OAAO,IAAIF,KAAK,CAACD,MAAM;MACvB,MAAMK,WAAW,GAAGD,UAAU,KAAKP,KAAK,CAACG,MAAM,GAAG,CAAC;MAEnDC,KAAK,CAACC,IAAI,CAAC;QACTI,EAAE,EAAE,QAAQF,UAAU,OAAO;QAC7BG,IAAI,EAAEF,WAAW,GAAG,MAAM,GAAG,GAAGT,MAAM,CAACI,MAAM,GAAGG,OAAO;MACzD,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;EAEA,OAAON,KAAK;AACd,CAAC;AAED,eAAeF,kBAAkB","ignoreList":[]}