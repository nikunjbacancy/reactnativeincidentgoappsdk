{"version":3,"names":["AsyncStorage","AppEvent","event","NOTIFICATION_BADGES_KEY","filter","getBadges","removeBadge","incidentId","badges","filteredBadges","b","setItem","JSON","stringify","emit","OnNotificationBadge"],"sources":["removeBadge.ts"],"sourcesContent":["import AsyncStorage from '@react-native-async-storage/async-storage';\nimport { AppEvent, event } from '../../api';\nimport { NOTIFICATION_BADGES_KEY } from '../../containers/providers/NotificationProvider/constants';\nimport { Id } from 'incident-code-core';\nimport filter from 'lodash/filter';\n\nimport getBadges from './getBadges';\n\nconst removeBadge = async (incidentId: Id) => {\n  const badges = await getBadges();\n  const filteredBadges = filter(badges, b => b !== incidentId);\n  await AsyncStorage.setItem(\n    NOTIFICATION_BADGES_KEY,\n    JSON.stringify(filteredBadges),\n  );\n  event.emit(AppEvent.OnNotificationBadge, filteredBadges);\n};\n\nexport default removeBadge;\n"],"mappings":"AAAA,OAAOA,YAAY,MAAM,2CAA2C;AACpE,SAASC,QAAQ,EAAEC,KAAK,QAAQ,WAAW;AAC3C,SAASC,uBAAuB,QAAQ,2DAA2D;AAEnG,OAAOC,MAAM,MAAM,eAAe;AAElC,OAAOC,SAAS,MAAM,aAAa;AAEnC,MAAMC,WAAW,GAAG,MAAOC,UAAc,IAAK;EAC5C,MAAMC,MAAM,GAAG,MAAMH,SAAS,CAAC,CAAC;EAChC,MAAMI,cAAc,GAAGL,MAAM,CAACI,MAAM,EAAEE,CAAC,IAAIA,CAAC,KAAKH,UAAU,CAAC;EAC5D,MAAMP,YAAY,CAACW,OAAO,CACxBR,uBAAuB,EACvBS,IAAI,CAACC,SAAS,CAACJ,cAAc,CAC/B,CAAC;EACDP,KAAK,CAACY,IAAI,CAACb,QAAQ,CAACc,mBAAmB,EAAEN,cAAc,CAAC;AAC1D,CAAC;AAED,eAAeH,WAAW","ignoreList":[]}