{"version":3,"names":["useEffect","useRef","useState","useTimerInterval","interval","increment","onTimeChange","expire","onExpire","time","setTime","shouldStart","setShouldStart","intervalRef","startTimer","stopTimer","current","setInterval","prevTime","clearInterval"],"sources":["useTimerInterval.ts"],"sourcesContent":["import { useEffect, useRef, useState } from 'react';\n\ninterface TimerIntervalProps {\n  interval: number;\n  increment: number;\n  onTimeChange?: (time: number) => void;\n  expire?: number;\n  onExpire?: (time: number) => void;\n}\n\nconst useTimerInterval = ({\n  interval,\n  increment,\n  onTimeChange,\n  expire,\n  onExpire,\n}: TimerIntervalProps) => {\n  const [time, setTime] = useState(0);\n  const [shouldStart, setShouldStart] = useState(false);\n  const intervalRef = useRef<NodeJS.Timeout>();\n\n  const startTimer = () => {\n    setShouldStart(true);\n  };\n\n  const stopTimer = () => {\n    setShouldStart(false);\n    setTime(0);\n  };\n\n  useEffect(() => {\n    if (shouldStart) {\n      intervalRef.current = setInterval(() => {\n        setTime(prevTime => {\n          if (expire && intervalRef.current && prevTime + increment > expire) {\n            if (onExpire) onExpire(prevTime);\n            stopTimer();\n            return 0;\n          }\n          if (onTimeChange) onTimeChange(prevTime + increment);\n          return prevTime + increment;\n        });\n      }, interval);\n    } else if (intervalRef.current) {\n      setTime(0);\n      clearInterval(intervalRef.current);\n    }\n  }, [shouldStart]);\n\n  return { time, startTimer, stopTimer };\n};\n\nexport default useTimerInterval;\n"],"mappings":"AAAA,SAASA,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAUnD,MAAMC,gBAAgB,GAAGA,CAAC;EACxBC,QAAQ;EACRC,SAAS;EACTC,YAAY;EACZC,MAAM;EACNC;AACkB,CAAC,KAAK;EACxB,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGR,QAAQ,CAAC,CAAC,CAAC;EACnC,MAAM,CAACS,WAAW,EAAEC,cAAc,CAAC,GAAGV,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAMW,WAAW,GAAGZ,MAAM,CAAiB,CAAC;EAE5C,MAAMa,UAAU,GAAGA,CAAA,KAAM;IACvBF,cAAc,CAAC,IAAI,CAAC;EACtB,CAAC;EAED,MAAMG,SAAS,GAAGA,CAAA,KAAM;IACtBH,cAAc,CAAC,KAAK,CAAC;IACrBF,OAAO,CAAC,CAAC,CAAC;EACZ,CAAC;EAEDV,SAAS,CAAC,MAAM;IACd,IAAIW,WAAW,EAAE;MACfE,WAAW,CAACG,OAAO,GAAGC,WAAW,CAAC,MAAM;QACtCP,OAAO,CAACQ,QAAQ,IAAI;UAClB,IAAIX,MAAM,IAAIM,WAAW,CAACG,OAAO,IAAIE,QAAQ,GAAGb,SAAS,GAAGE,MAAM,EAAE;YAClE,IAAIC,QAAQ,EAAEA,QAAQ,CAACU,QAAQ,CAAC;YAChCH,SAAS,CAAC,CAAC;YACX,OAAO,CAAC;UACV;UACA,IAAIT,YAAY,EAAEA,YAAY,CAACY,QAAQ,GAAGb,SAAS,CAAC;UACpD,OAAOa,QAAQ,GAAGb,SAAS;QAC7B,CAAC,CAAC;MACJ,CAAC,EAAED,QAAQ,CAAC;IACd,CAAC,MAAM,IAAIS,WAAW,CAACG,OAAO,EAAE;MAC9BN,OAAO,CAAC,CAAC,CAAC;MACVS,aAAa,CAACN,WAAW,CAACG,OAAO,CAAC;IACpC;EACF,CAAC,EAAE,CAACL,WAAW,CAAC,CAAC;EAEjB,OAAO;IAAEF,IAAI;IAAEK,UAAU;IAAEC;EAAU,CAAC;AACxC,CAAC;AAED,eAAeZ,gBAAgB","ignoreList":[]}