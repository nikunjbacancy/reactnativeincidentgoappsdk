{"version":3,"names":["check","RESULTS","getLocationActionPermissions","isIos","getLocationBlockedStatus","bestLocation","lightLocation","BLOCKED","checkBlockedLocationActivityPermission","permissions","Promise","all","physical","then","reject","resolve"],"sources":["checkBlockedActivityRecognitionPermission.ts"],"sourcesContent":["import { check, PermissionStatus, RESULTS } from 'react-native-permissions';\nimport { getLocationActionPermissions } from '.';\n\nimport { isIos } from '../device';\n\nconst getLocationBlockedStatus = (\n  bestLocation: PermissionStatus,\n  lightLocation: PermissionStatus,\n) =>\n  isIos\n    ? bestLocation === RESULTS.BLOCKED && lightLocation === RESULTS.BLOCKED\n    : bestLocation === RESULTS.BLOCKED || lightLocation === RESULTS.BLOCKED;\n\nconst checkBlockedLocationActivityPermission = async () => {\n  const permissions = getLocationActionPermissions();\n  return Promise.all([\n    check(permissions.bestLocation),\n    check(permissions.lightLocation),\n    check(permissions.physical),\n  ]).then(([bestLocation, lightLocation, physical]) => {\n    if (\n      physical === RESULTS.BLOCKED ||\n      getLocationBlockedStatus(bestLocation, lightLocation)\n    ) {\n      return Promise.reject();\n    }\n    return Promise.resolve();\n  });\n};\n\nexport default checkBlockedLocationActivityPermission;\n"],"mappings":"AAAA,SAASA,KAAK,EAAoBC,OAAO,QAAQ,0BAA0B;AAC3E,SAASC,4BAA4B,QAAQ,GAAG;AAEhD,SAASC,KAAK,QAAQ,WAAW;AAEjC,MAAMC,wBAAwB,GAAGA,CAC/BC,YAA8B,EAC9BC,aAA+B,KAE/BH,KAAK,GACDE,YAAY,KAAKJ,OAAO,CAACM,OAAO,IAAID,aAAa,KAAKL,OAAO,CAACM,OAAO,GACrEF,YAAY,KAAKJ,OAAO,CAACM,OAAO,IAAID,aAAa,KAAKL,OAAO,CAACM,OAAO;AAE3E,MAAMC,sCAAsC,GAAG,MAAAA,CAAA,KAAY;EACzD,MAAMC,WAAW,GAAGP,4BAA4B,CAAC,CAAC;EAClD,OAAOQ,OAAO,CAACC,GAAG,CAAC,CACjBX,KAAK,CAACS,WAAW,CAACJ,YAAY,CAAC,EAC/BL,KAAK,CAACS,WAAW,CAACH,aAAa,CAAC,EAChCN,KAAK,CAACS,WAAW,CAACG,QAAQ,CAAC,CAC5B,CAAC,CAACC,IAAI,CAAC,CAAC,CAACR,YAAY,EAAEC,aAAa,EAAEM,QAAQ,CAAC,KAAK;IACnD,IACEA,QAAQ,KAAKX,OAAO,CAACM,OAAO,IAC5BH,wBAAwB,CAACC,YAAY,EAAEC,aAAa,CAAC,EACrD;MACA,OAAOI,OAAO,CAACI,MAAM,CAAC,CAAC;IACzB;IACA,OAAOJ,OAAO,CAACK,OAAO,CAAC,CAAC;EAC1B,CAAC,CAAC;AACJ,CAAC;AAED,eAAeP,sCAAsC","ignoreList":[]}