{"version":3,"names":["check","RESULTS","isIos","getPermissions","getLocationBlockedStatus","bestLocation","lightLocation","BLOCKED","checkBlockedPermission","permissions","Promise","all","camera","microphone","physical","galleryWrite","then","reject","resolve"],"sources":["checkBlockedPermission.ts"],"sourcesContent":["import { check, PermissionStatus, RESULTS } from 'react-native-permissions';\nimport { isIos } from '../../utils/device';\n\nimport getPermissions from './getPermissions';\n\nconst getLocationBlockedStatus = (\n  bestLocation: PermissionStatus,\n  lightLocation: PermissionStatus,\n) =>\n  isIos\n    ? bestLocation === RESULTS.BLOCKED && lightLocation === RESULTS.BLOCKED\n    : bestLocation === RESULTS.BLOCKED || lightLocation === RESULTS.BLOCKED;\n\nconst checkBlockedPermission = async () => {\n  const permissions = getPermissions();\n  return Promise.all([\n    check(permissions.camera),\n    check(permissions.microphone),\n    check(permissions.bestLocation),\n    check(permissions.lightLocation),\n    check(permissions.physical),\n    check(permissions.galleryWrite),\n  ]).then(([camera, microphone, bestLocation, lightLocation, physical]) => {\n    if (\n      camera === RESULTS.BLOCKED ||\n      microphone === RESULTS.BLOCKED ||\n      physical === RESULTS.BLOCKED ||\n      getLocationBlockedStatus(bestLocation, lightLocation)\n    ) {\n      return Promise.reject();\n    }\n    return Promise.resolve();\n  });\n};\n\nexport default checkBlockedPermission;\n"],"mappings":"AAAA,SAASA,KAAK,EAAoBC,OAAO,QAAQ,0BAA0B;AAC3E,SAASC,KAAK,QAAQ,oBAAoB;AAE1C,OAAOC,cAAc,MAAM,kBAAkB;AAE7C,MAAMC,wBAAwB,GAAGA,CAC/BC,YAA8B,EAC9BC,aAA+B,KAE/BJ,KAAK,GACDG,YAAY,KAAKJ,OAAO,CAACM,OAAO,IAAID,aAAa,KAAKL,OAAO,CAACM,OAAO,GACrEF,YAAY,KAAKJ,OAAO,CAACM,OAAO,IAAID,aAAa,KAAKL,OAAO,CAACM,OAAO;AAE3E,MAAMC,sBAAsB,GAAG,MAAAA,CAAA,KAAY;EACzC,MAAMC,WAAW,GAAGN,cAAc,CAAC,CAAC;EACpC,OAAOO,OAAO,CAACC,GAAG,CAAC,CACjBX,KAAK,CAACS,WAAW,CAACG,MAAM,CAAC,EACzBZ,KAAK,CAACS,WAAW,CAACI,UAAU,CAAC,EAC7Bb,KAAK,CAACS,WAAW,CAACJ,YAAY,CAAC,EAC/BL,KAAK,CAACS,WAAW,CAACH,aAAa,CAAC,EAChCN,KAAK,CAACS,WAAW,CAACK,QAAQ,CAAC,EAC3Bd,KAAK,CAACS,WAAW,CAACM,YAAY,CAAC,CAChC,CAAC,CAACC,IAAI,CAAC,CAAC,CAACJ,MAAM,EAAEC,UAAU,EAAER,YAAY,EAAEC,aAAa,EAAEQ,QAAQ,CAAC,KAAK;IACvE,IACEF,MAAM,KAAKX,OAAO,CAACM,OAAO,IAC1BM,UAAU,KAAKZ,OAAO,CAACM,OAAO,IAC9BO,QAAQ,KAAKb,OAAO,CAACM,OAAO,IAC5BH,wBAAwB,CAACC,YAAY,EAAEC,aAAa,CAAC,EACrD;MACA,OAAOI,OAAO,CAACO,MAAM,CAAC,CAAC;IACzB;IACA,OAAOP,OAAO,CAACQ,OAAO,CAAC,CAAC;EAC1B,CAAC,CAAC;AACJ,CAAC;AAED,eAAeV,sBAAsB","ignoreList":[]}