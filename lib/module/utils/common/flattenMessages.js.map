{"version":3,"names":["produce","assign","isString","keys","reduce","flattenMessages","nestedMessages","prefix","messages","key","value","prefixedKey","draft"],"sources":["flattenMessages.ts"],"sourcesContent":["import produce, { Draft } from 'immer';\nimport assign from 'lodash/assign';\nimport isString from 'lodash/isString';\nimport keys from 'lodash/keys';\nimport reduce from 'lodash/reduce';\n\nconst flattenMessages = (\n  nestedMessages: { [key: string]: any },\n  prefix = '',\n): {} =>\n  reduce(\n    keys(nestedMessages),\n    (messages, key: any) => {\n      const value = nestedMessages[key];\n      const prefixedKey: string = prefix ? `${prefix}.${key}` : key;\n\n      if (isString(value)) {\n        return produce(messages, (draft: Draft<any>) => {\n          draft[prefixedKey] = value;\n        });\n      }\n      return assign(messages, flattenMessages(value, prefixedKey));\n    },\n    {},\n  );\n\nexport default flattenMessages;\n"],"mappings":"AAAA,OAAOA,OAAO,MAAiB,OAAO;AACtC,OAAOC,MAAM,MAAM,eAAe;AAClC,OAAOC,QAAQ,MAAM,iBAAiB;AACtC,OAAOC,IAAI,MAAM,aAAa;AAC9B,OAAOC,MAAM,MAAM,eAAe;AAElC,MAAMC,eAAe,GAAGA,CACtBC,cAAsC,EACtCC,MAAM,GAAG,EAAE,KAEXH,MAAM,CACJD,IAAI,CAACG,cAAc,CAAC,EACpB,CAACE,QAAQ,EAAEC,GAAQ,KAAK;EACtB,MAAMC,KAAK,GAAGJ,cAAc,CAACG,GAAG,CAAC;EACjC,MAAME,WAAmB,GAAGJ,MAAM,GAAG,GAAGA,MAAM,IAAIE,GAAG,EAAE,GAAGA,GAAG;EAE7D,IAAIP,QAAQ,CAACQ,KAAK,CAAC,EAAE;IACnB,OAAOV,OAAO,CAACQ,QAAQ,EAAGI,KAAiB,IAAK;MAC9CA,KAAK,CAACD,WAAW,CAAC,GAAGD,KAAK;IAC5B,CAAC,CAAC;EACJ;EACA,OAAOT,MAAM,CAACO,QAAQ,EAAEH,eAAe,CAACK,KAAK,EAAEC,WAAW,CAAC,CAAC;AAC9D,CAAC,EACD,CAAC,CACH,CAAC;AAEH,eAAeN,eAAe","ignoreList":[]}