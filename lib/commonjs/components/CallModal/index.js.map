{"version":3,"names":["_assets","require","_react","_interopRequireWildcard","_reactIntl","_reactNative","_reactNativeModal","_interopRequireDefault","_device","_styled","_GradientButton","_IconButton","_messages","e","__esModule","default","_getRequireWildcardCache","WeakMap","r","t","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","CallModal","isVisible","onShow","onHide","hideModal","organization","organizations","formatMessage","useIntl","renderItem","itemInfo","_itemInfo$item2","createElement","OrganizationButton","onPress","_itemInfo$item","makeCall","item","phone","text","name","call911","useNativeDriver","animationIn","animationOut","onBackButtonPress","onBackdropPress","onModalWillShow","onModalWillHide","Container","CloseButton","source","images","icClose","Content","Title","messages","wantCall","SubTitle","emergency","EmergencyButton","ListContainer","List","keyExtractor","org","_org$id","id","toString","data","Fragment","styled","View","theme","colors","white","IconButton","Text","fonts","defaultBoldFamily","dark","defaultFamily","GradientButton","exports","FlatList","_default","memo"],"sources":["index.tsx"],"sourcesContent":["import { images } from '../../assets';\nimport { Organization } from 'incident-code-core';\nimport React, { FC, memo } from 'react';\nimport { useIntl } from 'react-intl';\nimport { FlatList } from 'react-native';\nimport Modal from 'react-native-modal';\nimport { makeCall } from '../../utils/device';\nimport styled from '../../utils/styled';\n\nimport GradientButton from '../GradientButton';\nimport IconButton from '../IconButton';\nimport messages from './messages';\n\ninterface Props {\n  isVisible: boolean;\n  onShow?(): void;\n  onHide?(): void;\n  hideModal(): void;\n  organization?: Organization;\n  organizations?: Organization[];\n}\n\nconst CallModal: FC<Props> = ({\n  isVisible,\n  onShow,\n  onHide,\n  hideModal,\n  organization,\n  organizations,\n}) => {\n  const { formatMessage } = useIntl();\n  const renderItem = (itemInfo: { item: Organization | undefined }) => (\n    <OrganizationButton\n      onPress={() => makeCall(itemInfo.item?.phone)}\n      text={itemInfo.item?.name}\n    />\n  );\n  const call911 = async () => {\n    await makeCall('911');\n  };\n  return (\n    <Modal\n      useNativeDriver={true}\n      animationIn=\"zoomIn\"\n      animationOut=\"zoomOut\"\n      isVisible={isVisible}\n      onBackButtonPress={hideModal}\n      onBackdropPress={hideModal}\n      onModalWillShow={onShow}\n      onModalWillHide={onHide}\n    >\n      <Container>\n        <CloseButton onPress={hideModal} source={images.icClose()} />\n        <Content>\n          <Title>{formatMessage(messages.wantCall)}</Title>\n          <SubTitle>{formatMessage(messages.emergency)}</SubTitle>\n          <EmergencyButton\n            onPress={call911}\n            text={formatMessage(messages.call911)}\n          />\n        </Content>\n        <ListContainer>\n          <SubTitle>{formatMessage(messages.organization)}</SubTitle>\n          {organizations ? (\n            <List\n              keyExtractor={org => org.id?.toString() || ''}\n              renderItem={renderItem}\n              data={organizations}\n            />\n          ) : (\n            <>{renderItem({ item: organization })}</>\n          )}\n        </ListContainer>\n      </Container>\n    </Modal>\n  );\n};\n\nconst Container = styled.View`\n  border-radius: 5px;\n  height: 75%;\n  background-color: ${({ theme }) => theme.colors.white};\n  padding: 20px 20px 0;\n  position: relative;\n`;\n\nconst Content = styled.View`\n  margin-bottom: 10px;\n`;\n\nconst ListContainer = styled.View`\n  height: 70%;\n  margin-bottom: auto;\n`;\n\nconst CloseButton = styled(IconButton as any)`\n  width: 44px;\n  height: 44px;\n  border-radius: 22px;\n  background-color: ${({ theme }) => theme.colors.white};\n  position: absolute;\n  top: -60px;\n  right: 20px;\n`;\n\nconst Title = styled.Text`\n  font-family: ${({ theme }) => theme.fonts.defaultBoldFamily};\n  font-size: 20px;\n  line-height: 28px;\n  color: ${({ theme }) => theme.colors.dark};\n  text-align: center;\n`;\n\nconst SubTitle = styled.Text`\n  font-family: ${({ theme }) => theme.fonts.defaultFamily};\n  font-size: 16px;\n  line-height: 28px;\n  margin-top: 10px;\n  color: ${({ theme }) => theme.colors.dark};\n  text-align: center;\n`;\n\nconst EmergencyButton = styled(GradientButton)`\n  margin-top: 10px;\n`;\n\nconst OrganizationButton = styled(GradientButton)`\n  margin-top: 10px;\n`;\n\nexport const List = styled(FlatList as new () => FlatList<Organization>)`\n  margin-bottom: 20px;\n`;\n\nexport default memo(CallModal);\n"],"mappings":"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","ignoreList":[]}