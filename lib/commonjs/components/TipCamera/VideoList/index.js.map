{"version":3,"names":["_map","_interopRequireDefault","require","_react","_interopRequireWildcard","_styled","_video","_VideoCard","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","VideoList","incidentVideos","currentPage","setCurrentPage","useState","videoPages","useMemo","splitVideosOnPages","activePage","onNextPage","isLastPage","length","createElement","Container","map","id","duration","thumbnailUrl","text","index","navigateClick","key","styled","View","_default","exports"],"sources":["index.tsx"],"sourcesContent":["import { IncidentVideo } from 'incident-code-core';\nimport map from 'lodash/map';\nimport React, { FC, useMemo, useState } from 'react';\nimport styled from '../../../utils/styled';\nimport { splitVideosOnPages } from '../../../utils/video';\nimport VideoCard from '../VideoCard';\n\ninterface Props {\n  incidentVideos: IncidentVideo[];\n}\n\nconst VideoList: FC<Props> = ({ incidentVideos }) => {\n  const [currentPage, setCurrentPage] = useState(0);\n  const videoPages = useMemo(() => splitVideosOnPages(incidentVideos), [\n    incidentVideos,\n  ]);\n  const activePage = videoPages[currentPage];\n\n  if (!activePage) {\n    return null;\n  }\n\n  const onNextPage = () => {\n    const isLastPage = currentPage + 1 === videoPages.length;\n    setCurrentPage(isLastPage ? 0 : currentPage + 1);\n  };\n\n  return (\n    <Container>\n      {map(activePage, ({ id, duration, thumbnailUrl, text }, index) => (\n        <VideoCard\n          id={id}\n          videoPages={videoPages}\n          currentPage={currentPage}\n          duration={duration}\n          thumbnailUrl={thumbnailUrl}\n          text={text}\n          navigateClick={onNextPage}\n          key={index}\n        />\n      ))}\n    </Container>\n  );\n};\n\nconst Container = styled.View`\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 70px;\n  height: 90px;\n  padding-left: 23px;\n  padding-right: 23px;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  align-items: stretch;\n  justify-content: center;\n`;\n\nexport default VideoList;\n"],"mappings":"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","ignoreList":[]}