{"version":3,"names":["_assets","require","_components","_selectors","_screens","_interopRequireDefault","_react","_interopRequireWildcard","_reactIntl","_reactNative","_reactNativeRootToast","_hooks","_constants","_messages","_styles","_validator","_asyncStorage","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","UpdateNameScreen","navigation","goBack","replace","formatMessage","useIntl","schema","UpdateNameSchema","user","useSelector","makeSelectUser","initialValues","firstName","lastName","goBackToSignIn","useCallback","goToAddUserPortraitScreen","AsyncStorage","removeItem","Screens","Onboarding","AddUserPortrait","createElement","Fragment","StatusBar","barStyle","backgroundColor","Background","SafeAreaContainer","ScrollView","contentContainerStyle","flex","keyboardShouldPersistTaps","keyboardDismissMode","LogoRow","BackButtonCol","IconButton","source","images","icBackDark","onPress","Image","logoWithText","TitleRow","TitleText","messages","title","phone","Form","start","UPDATE_NAME_REQUEST","resolve","UPDATE_NAME_SUCCESS","reject","UPDATE_NAME_FAILURE","validationSchema","onResolve","onReject","action","Toast","show","payload","message","position","positions","BOTTOM","InputRow","NameInputField","name","textContentType","placeholder","firstNamePlaceholder","NameErrorField","lastNamePlaceholder","PrivacyRow","PrivacyText","privacy","PaddingView","size","SubmitButtonRow","SubmitButtonField","text","next","_default","exports"],"sources":["index.tsx"],"sourcesContent":["import { images } from '../../../../assets';\nimport {\n  Form,\n  IconButton,\n  PaddingView,\n  SafeAreaContainer,\n  SubmitButtonField,\n} from '../../../../components';\nimport { makeSelectUser } from '../../../../containers/app/selectors';\nimport Screens from '../../../../containers/providers/RoutesProvider/screens';\nimport React, { FC, useCallback } from 'react';\nimport { useIntl } from 'react-intl';\nimport { Image, ScrollView, StatusBar } from 'react-native';\nimport Toast from 'react-native-root-toast';\nimport { ScreenProps } from 'react-native-screens';\nimport { NavigationStackScreenProps } from 'react-navigation-stack';\nimport { useSelector } from '../../../../utils/hooks';\n\nimport {\n  UPDATE_NAME_FAILURE,\n  UPDATE_NAME_REQUEST,\n  UPDATE_NAME_SUCCESS,\n} from './constants';\nimport messages from './messages';\nimport {\n  BackButtonCol,\n  Background,\n  InputRow,\n  LogoRow,\n  NameErrorField,\n  NameInputField,\n  PrivacyRow,\n  PrivacyText,\n  SubmitButtonRow,\n  TitleRow,\n  TitleText,\n} from './styles';\nimport UpdateNameSchema from './validator';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\n\ninterface Params {}\n\ninterface Props extends NavigationStackScreenProps<Params, ScreenProps> {}\n\nconst UpdateNameScreen: FC<Props> = ({ navigation: { goBack, replace } }) => {\n  \n  const { formatMessage } = useIntl();\n  const schema = UpdateNameSchema(formatMessage);\n  const user = useSelector(makeSelectUser());\n  const initialValues = {\n    firstName: user.firstName || '',\n    lastName: user.lastName || '',\n  };\n\n  const   goBackToSignIn = useCallback(() => goBack(), []);\n  const goToAddUserPortraitScreen = () => {\n    AsyncStorage.removeItem(\"isLogout\")\n    replace(Screens.Onboarding.AddUserPortrait);\n  } \n\n  if (user)\n    return (\n      <>\n        <StatusBar barStyle=\"dark-content\" backgroundColor=\"white\" />\n        <Background />\n        <SafeAreaContainer>\n          <ScrollView\n            contentContainerStyle={{ flex: 1 }}\n            keyboardShouldPersistTaps=\"always\"\n            keyboardDismissMode=\"on-drag\"\n          >\n            <LogoRow>\n              <BackButtonCol>\n                <IconButton\n                  source={images.icBackDark()}\n                  onPress={goBackToSignIn}\n                />\n              </BackButtonCol>\n              <Image source={images.logoWithText()} />\n            </LogoRow>\n            <TitleRow>\n              <TitleText>{formatMessage(messages.title)}</TitleText>\n            </TitleRow>\n            {user.phone && (\n              <Form\n                start={UPDATE_NAME_REQUEST}\n                resolve={UPDATE_NAME_SUCCESS}\n                reject={UPDATE_NAME_FAILURE}\n                initialValues={initialValues}\n                validationSchema={schema}\n                onResolve={goToAddUserPortraitScreen}\n                onReject={action =>\n                  Toast.show(action.payload.message, {\n                    position: Toast.positions.BOTTOM,\n                  })\n                }\n              >\n                <>\n                  <InputRow>\n                    <NameInputField\n                      name=\"firstName\"\n                      textContentType=\"givenName\"\n                      placeholder={formatMessage(messages.firstNamePlaceholder)}\n                    />\n                  </InputRow>\n                  <NameErrorField name=\"firstName\" />\n                  <InputRow>\n                    <NameInputField\n                      name=\"lastName\"\n                      textContentType=\"familyName\"\n                      placeholder={formatMessage(messages.lastNamePlaceholder)}\n                    />\n                  </InputRow>\n                  <NameErrorField name=\"lastName\" />\n                  <PrivacyRow>\n                    <PrivacyText>{formatMessage(messages.privacy)}</PrivacyText>\n                  </PrivacyRow>\n                  <PaddingView size={1} />\n                </>\n                <SubmitButtonRow>\n                  <SubmitButtonField text={formatMessage(messages.next)} />\n                </SubmitButtonRow>\n              </Form>\n            )}\n          </ScrollView>\n        </SafeAreaContainer>\n      </>\n    );\n  else \n  return null;\n};\n\nexport default UpdateNameScreen;\n"],"mappings":"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","ignoreList":[]}