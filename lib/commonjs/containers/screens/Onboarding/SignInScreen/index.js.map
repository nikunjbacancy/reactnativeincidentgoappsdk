{"version":3,"names":["_assets","require","_components","_constants","_screens","_interopRequireDefault","_react","_interopRequireWildcard","_reactIntl","_reactNative","_reactNativeRootToast","_constants2","_messages","_styles","_validator","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","SignInScreen","navigation","navigate","formatMessage","useIntl","schema","SignInSchema","initialValues","phone","agreeTos","goToSignInCodeScreen","useCallback","action","Screens","Onboarding","SignInCode","payload","createElement","Fragment","StatusBar","barStyle","backgroundColor","Background","SafeAreaContainer","ScrollView","contentContainerStyle","flex","keyboardShouldPersistTaps","keyboardDismissMode","LogoRow","Image","source","images","logoWithText","TitleRow","TitleText","messages","title","Form","start","SEND_CODE_REQUEST","resolve","SEND_CODE_SUCCESS","reject","SEND_CODE_FAILURE","validationSchema","onResolve","onReject","Toast","show","message","position","positions","TOP","duration","opacity","hideOnPress","InputRow","PhoneLabelCol","CountryText","countryCode","PhoneInputCol","PhoneText","name","keyboardType","keyboardAppearance","placeholder","phonePlaceholder","PhoneError","TosRow","CheckBoxField","AgreeText","tos","LinkText","key","link","LINKS","privacyPolicy","PrivacyPolicyText","PrivacyPolicy","AgreeTosError","PaddingView","size","SubmitButtonRow","SubmitButtonField","text","sendCode","_default","exports"],"sources":["index.tsx"],"sourcesContent":["import { images } from '../../../../assets';\nimport {\n  CheckBoxField,\n  Form,\n  PaddingView,\n  SafeAreaContainer,\n  SubmitButtonField,\n} from '../../../../components';\nimport { LINKS } from '../../../../containers/app/constants';\nimport Screens from '../../../../containers/providers/RoutesProvider/screens';\nimport React, { FC, useCallback } from 'react';\nimport { useIntl } from 'react-intl';\nimport { Image, ScrollView, StatusBar } from 'react-native';\nimport Toast from 'react-native-root-toast';\nimport { ScreenProps } from 'react-native-screens';\nimport { NavigationStackScreenProps } from 'react-navigation-stack';\nimport { FluxAction } from 'types';\n\nimport {\n  SEND_CODE_FAILURE,\n  SEND_CODE_REQUEST,\n  SEND_CODE_SUCCESS,\n} from './constants';\nimport messages from './messages';\nimport {\n  AgreeText,\n  AgreeTosError,\n  Background,\n  CountryText,\n  InputRow,\n  PrivacyPolicyText,\n  LinkText,\n  LogoRow,\n  PhoneError,\n  PhoneInputCol,\n  PhoneLabelCol,\n  PhoneText,\n  SubmitButtonRow,\n  TitleRow,\n  TitleText,\n  TosRow,\n} from './styles';\nimport SignInSchema from './validator';\n\ninterface Params {}\ninterface Props extends NavigationStackScreenProps<Params, ScreenProps> {}\n\nconst SignInScreen: FC<Props> = ({ navigation: { navigate } }) => {\n  const { formatMessage } = useIntl();\n  const schema = SignInSchema(formatMessage);\n  const initialValues = {\n    phone: '',\n    agreeTos: false,\n  };\n  const goToSignInCodeScreen = useCallback(\n    (action: FluxAction) =>\n      navigate(Screens.Onboarding.SignInCode, { phone: action.payload }),\n    [navigate],\n  );\n  return (\n    <>\n      <StatusBar barStyle=\"dark-content\" backgroundColor=\"white\" />\n      <Background />\n      <SafeAreaContainer>\n        <ScrollView\n          contentContainerStyle={{ flex: 1 }}\n          keyboardShouldPersistTaps=\"always\"\n          keyboardDismissMode=\"on-drag\"\n        >\n          <LogoRow>\n            <Image source={images.logoWithText()} />\n          </LogoRow>\n          <TitleRow>\n            <TitleText>{formatMessage(messages.title)}</TitleText>\n          </TitleRow>\n          <Form\n            start={SEND_CODE_REQUEST}\n            resolve={SEND_CODE_SUCCESS}\n            reject={SEND_CODE_FAILURE}\n            initialValues={initialValues}\n            validationSchema={schema}\n            onResolve={goToSignInCodeScreen}\n            onReject={action =>\n              Toast.show(action.payload.message, {\n                position: Toast.positions.TOP,\n                duration: 10000,\n                opacity: 1,\n                hideOnPress: true,\n              })\n            }\n          >\n            <>\n              <InputRow>\n                <PhoneLabelCol>\n                  <CountryText>\n                    {formatMessage(messages.countryCode)}\n                  </CountryText>\n                </PhoneLabelCol>\n                <PhoneInputCol>\n                  <PhoneText\n                    name=\"phone\"\n                    keyboardType=\"phone-pad\"\n                    keyboardAppearance=\"light\"\n                    placeholder={formatMessage(messages.phonePlaceholder)}\n                  />\n                </PhoneInputCol>\n              </InputRow>\n              <PhoneError />\n              <TosRow>\n                <CheckBoxField name=\"agreeTos\" />\n                <AgreeText>\n                  {formatMessage(messages.agreeTos, {\n                    tos: (\n                      <LinkText key=\"1\" link={LINKS.tos}>\n                        {formatMessage(messages.tos)}\n                      </LinkText>\n                    ), privacyPolicy: (\n                      <PrivacyPolicyText key=\"2\" link={() => navigate(Screens.Onboarding.PrivacyPolicy)} >\n                        {formatMessage(messages.privacyPolicy)}\n                      </PrivacyPolicyText>\n                    )\n                  })}\n                </AgreeText>\n              </TosRow>\n              <AgreeTosError />\n              <PaddingView size={1} />\n            </>\n            <SubmitButtonRow>\n              <SubmitButtonField text={formatMessage(messages.sendCode)} />\n            </SubmitButtonRow>\n          </Form>\n        </ScrollView>\n      </SafeAreaContainer>\n    </>\n  );\n};\n\nexport default SignInScreen;\n"],"mappings":"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","ignoreList":[]}