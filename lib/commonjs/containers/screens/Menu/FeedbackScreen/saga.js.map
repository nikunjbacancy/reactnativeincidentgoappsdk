{"version":3,"names":["api","_interopRequireWildcard","require","_effects","_device","_error","_actions","_constants","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","sendFeedback","payload","feedback","message","comment","extra","email","device","getInfo","version","getVersion","send","put","updateUserEmail","sendFeedbackSuccess","error","sendFeedbackFailure","handleError","feedbackScreenSaga","takeLatest","SEND_FEEDBACK_REQUEST"],"sources":["saga.ts"],"sourcesContent":["/**\n *\n * FeedbackScreen saga\n *\n */\n\nimport * as api from '../../../../api';\nimport { Feedback } from 'incident-code-core';\nimport { call, put, takeLatest } from 'redux-saga/effects';\nimport { getInfo, getVersion } from '../../../../utils/device';\nimport { handleError } from '../../../../utils/error';\n\nimport {\n  sendFeedbackFailure,\n  sendFeedbackSuccess,\n  updateUserEmail,\n} from './actions';\nimport { SEND_FEEDBACK_REQUEST } from './constants';\nimport { SendFeedbackRequestAction } from './types';\n\nexport function* sendFeedback({ payload }: SendFeedbackRequestAction) {\n  const feedback: Feedback = {\n    message: payload.comment,\n    extra: { email: payload.email },\n    device: getInfo(),\n    version: getVersion(),\n  };\n  try {\n    yield call(api.feedback.send, feedback);\n    yield put(updateUserEmail(payload.email));\n    yield put(sendFeedbackSuccess());\n  } catch (error: any) {\n    yield put(sendFeedbackFailure(handleError(error)));\n  }\n}\n\nexport default function* feedbackScreenSaga() {\n  yield takeLatest(SEND_FEEDBACK_REQUEST, sendFeedback);\n}\n"],"mappings":";;;;;;;AAMA,IAAAA,GAAA,GAAAC,uBAAA,CAAAC,OAAA;AAEA,IAAAC,QAAA,GAAAD,OAAA;AACA,IAAAE,OAAA,GAAAF,OAAA;AACA,IAAAG,MAAA,GAAAH,OAAA;AAEA,IAAAI,QAAA,GAAAJ,OAAA;AAKA,IAAAK,UAAA,GAAAL,OAAA;AAAoD,SAAAM,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAR,wBAAAQ,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAjBpD;AACA;AACA;AACA;AACA;;AAgBO,UAAUW,YAAYA,CAAC;EAAEC;AAAmC,CAAC,EAAE;EACpE,MAAMC,QAAkB,GAAG;IACzBC,OAAO,EAAEF,OAAO,CAACG,OAAO;IACxBC,KAAK,EAAE;MAAEC,KAAK,EAAEL,OAAO,CAACK;IAAM,CAAC;IAC/BC,MAAM,EAAE,IAAAC,eAAO,EAAC,CAAC;IACjBC,OAAO,EAAE,IAAAC,kBAAU,EAAC;EACtB,CAAC;EACD,IAAI;IACF,MAAM,IAAAb,aAAI,EAACzB,GAAG,CAAC8B,QAAQ,CAACS,IAAI,EAAET,QAAQ,CAAC;IACvC,MAAM,IAAAU,YAAG,EAAC,IAAAC,wBAAe,EAACZ,OAAO,CAACK,KAAK,CAAC,CAAC;IACzC,MAAM,IAAAM,YAAG,EAAC,IAAAE,4BAAmB,EAAC,CAAC,CAAC;EAClC,CAAC,CAAC,OAAOC,KAAU,EAAE;IACnB,MAAM,IAAAH,YAAG,EAAC,IAAAI,4BAAmB,EAAC,IAAAC,kBAAW,EAACF,KAAK,CAAC,CAAC,CAAC;EACpD;AACF;AAEe,UAAUG,kBAAkBA,CAAA,EAAG;EAC5C,MAAM,IAAAC,mBAAU,EAACC,gCAAqB,EAAEpB,YAAY,CAAC;AACvD","ignoreList":[]}