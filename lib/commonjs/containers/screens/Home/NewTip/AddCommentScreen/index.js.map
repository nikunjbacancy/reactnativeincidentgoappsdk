{"version":3,"names":["_assets","require","_components","_selectors","_react","_interopRequireWildcard","_reactIntl","_reactNative","_hooks","_navigation","_interopRequireDefault","_selectors2","_types","_actions","_messages","_selectors3","_styles","e","__esModule","default","_getRequireWildcardCache","WeakMap","r","t","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","IncidentCommentScreen","formatMessage","useIntl","comment","setComment","useState","organizationName","useSelector","makeSelectNewTipOrganizationName","creatingTip","makeSelectCreatingTip","uploadingVideo","makeSelectUploadingIncidentVideo","createTipMode","makeSelectCreateTipMode","createTipAction","useAction","createTipRequest","handleCreateTip","useCallback","showLoading","CreateTipMode","Chat","createElement","Fragment","StatusBar","barStyle","backgroundColor","SafeAreaContainer","ScrollView","contentContainerStyle","flex","keyboardShouldPersistTaps","keyboardDismissMode","Header","title","messages","InfoRow","InfoText","info","InputRow","InputText","value","onChangeText","text","multiline","numberOfLines","placeholder","inputPlaceholder","PaddingView","size","AcknowledgmentRow","AcknowledgmentText","acknowledgment","ContinueScreenActionButton","disabled","loading","onCancel","NavigatorService","back","onPress","createTip","iconImage","images","icBack","_default","exports"],"sources":["index.tsx"],"sourcesContent":["import { images } from '../../../../../assets';\nimport { Header, PaddingView, SafeAreaContainer } from '../../../../../components';\nimport { makeSelectNewTipOrganizationName } from '../../../../../containers/app/selectors';\nimport React, { useCallback, useState } from 'react';\nimport { useIntl } from 'react-intl';\nimport { ScrollView, StatusBar } from 'react-native';\nimport { useAction, useSelector } from '../../../../../utils/hooks';\nimport NavigatorService from '../../../../../utils/navigation';\n\nimport { makeSelectCreateTipMode } from '../VideoRecordScreen/selectors';\nimport { CreateTipMode } from '../VideoRecordScreen/types';\nimport { createTipRequest } from './actions';\nimport messages from './messages';\nimport {\n  makeSelectCreatingTip,\n  makeSelectUploadingIncidentVideo,\n} from './selectors';\nimport {\n  AcknowledgmentRow,\n  AcknowledgmentText,\n  ContinueScreenActionButton,\n  InfoRow,\n  InfoText,\n  InputRow,\n  InputText,\n} from './styles';\n\nconst IncidentCommentScreen = () => {\n  const { formatMessage } = useIntl();\n\n  const [comment, setComment] = useState(\"\");\n\n  const organizationName = useSelector(makeSelectNewTipOrganizationName());\n  const creatingTip = useSelector(makeSelectCreatingTip());\n  const uploadingVideo = useSelector(makeSelectUploadingIncidentVideo());\n  const createTipMode = useSelector(makeSelectCreateTipMode());\n\n  const createTipAction = useAction(createTipRequest);\n\n  const handleCreateTip = useCallback(() => {\n    createTipAction({ comment, createTipMode });\n  }, [comment, createTipMode]);\n\n  const showLoading =\n    createTipMode === CreateTipMode.Chat\n      ? creatingTip\n      : uploadingVideo || creatingTip;\n\n  return (\n    <>\n      <StatusBar barStyle=\"dark-content\" backgroundColor=\"white\" />\n      <SafeAreaContainer>\n        <ScrollView\n          contentContainerStyle={{ flex: 1 }}\n          keyboardShouldPersistTaps=\"always\"\n          keyboardDismissMode=\"on-drag\"\n        >\n          <Header title={formatMessage(messages.title)} />\n          <InfoRow>\n            <InfoText>\n              {formatMessage(messages.info, { organizationName })}\n            </InfoText>\n          </InfoRow>\n          <>\n            <InputRow>\n              <InputText\n                value={comment}\n                onChangeText={(text: string) => setComment(text)}\n                multiline\n                numberOfLines={4}\n                placeholder={formatMessage(messages.inputPlaceholder)}\n              />\n            </InputRow>\n            <PaddingView size={1} />\n            <AcknowledgmentRow>\n              <AcknowledgmentText>\n                {formatMessage(messages.acknowledgment, { organizationName })}\n              </AcknowledgmentText>\n            </AcknowledgmentRow>\n          </>\n          <ContinueScreenActionButton\n            disabled={showLoading}\n            loading={showLoading}\n            onCancel={NavigatorService.back}\n            onPress={handleCreateTip}\n            text={formatMessage(messages.createTip)}\n            iconImage={images.icBack()}\n          />\n        </ScrollView>\n      </SafeAreaContainer>\n    </>\n  );\n};\n\nexport default IncidentCommentScreen;\n"],"mappings":"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","ignoreList":[]}