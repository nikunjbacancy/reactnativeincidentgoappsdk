{"version":3,"names":["_immer","_interopRequireDefault","require","_constants","_types","e","__esModule","default","initialState","exports","shouldShowCallModal","shouldShowSafeModal","shouldShowExitPanicModal","shouldShowPanicInfo","recordType","RecordType","Audio","shouldShowChatModal","messages","requestingImSafe","isPanicMode","fromPassiveEscort","error","errorMessage","appState","recordScreenReducer","produce","draft","action","type","SHOW_CALL_MODAL","HIDE_CALL_MODAL","SHOW_SAFE_MODAL","HIDE_SAFE_MODAL","SHOW_CHAT_MODAL","HIDE_CHAT_MODAL","START_CHAT_SUCCESS","payload","ADD_MESSAGE","unshift","TOGGLE_RECORD_TYPE","Video","IM_SAFE_REQUEST","IM_SAFE_SUCCESS","IM_SAFE_FAILURE","SHOW_PANIC_INFO","HIDE_PANIC_INFO","ENTER_PANIC_MODE","EXIT_PANIC_MODE","SHOW_EXIT_PANIC_MODAL","HIDE_EXIT_PANIC_MODAL","SET_TRIGGERED_FROM_PASSIVE","HANDLE_ERROR_FAILURE","message","APP_STATE_STATUS_CHANGE","state","_default"],"sources":["reducer.ts"],"sourcesContent":["/**\n *\n * SelectOrganizationScreen reducer\n *\n */\n\nimport produce, { Draft } from 'immer';\n\nimport {\n  ADD_MESSAGE,\n  APP_STATE_STATUS_CHANGE,\n  ENTER_PANIC_MODE,\n  EXIT_PANIC_MODE,\n  HANDLE_ERROR_FAILURE,\n  HIDE_CALL_MODAL,\n  HIDE_CHAT_MODAL,\n  HIDE_EXIT_PANIC_MODAL,\n  HIDE_PANIC_INFO,\n  HIDE_SAFE_MODAL,\n  IM_SAFE_FAILURE,\n  IM_SAFE_REQUEST,\n  IM_SAFE_SUCCESS,\n  SET_TRIGGERED_FROM_PASSIVE,\n  SHOW_CALL_MODAL,\n  SHOW_CHAT_MODAL,\n  SHOW_EXIT_PANIC_MODAL,\n  SHOW_PANIC_INFO,\n  SHOW_SAFE_MODAL,\n  START_CHAT_SUCCESS,\n  TOGGLE_RECORD_TYPE,\n} from './constants';\nimport { RecordScreenActionTypes, RecordState, RecordType } from './types';\n\nexport const initialState: RecordState = {\n  shouldShowCallModal: false,\n  shouldShowSafeModal: false,\n  shouldShowExitPanicModal: false,\n  shouldShowPanicInfo: false,\n  recordType: RecordType.Audio,\n  shouldShowChatModal: false,\n  messages: [],\n  requestingImSafe: false,\n  isPanicMode: false,\n  fromPassiveEscort: false,\n  error: false,\n  errorMessage: '',\n  appState: 'active',\n};\n\nconst recordScreenReducer = produce(\n  (draft: Draft<RecordState>, action: RecordScreenActionTypes) => {\n    switch (action.type) {\n      case SHOW_CALL_MODAL:\n        draft.shouldShowCallModal = true;\n        break;\n      case HIDE_CALL_MODAL:\n        draft.shouldShowCallModal = false;\n        break;\n      case SHOW_SAFE_MODAL:\n        draft.shouldShowSafeModal = true;\n        break;\n      case HIDE_SAFE_MODAL:\n        draft.shouldShowSafeModal = false;\n        break;\n      case SHOW_CHAT_MODAL:\n        draft.shouldShowChatModal = true;\n        break;\n      case HIDE_CHAT_MODAL:\n        draft.shouldShowChatModal = false;\n        break;\n      case START_CHAT_SUCCESS:\n        //(\"-message success action.payload->\",action.payload)\n        draft.messages = action.payload;\n        break;\n      case ADD_MESSAGE:\n        draft.messages.unshift(action.payload);\n        break;\n      case TOGGLE_RECORD_TYPE:\n        draft.recordType =\n          draft.recordType === RecordType.Audio\n            ? RecordType.Video\n            : RecordType.Audio;\n        break;\n      case IM_SAFE_REQUEST:\n        draft.requestingImSafe = true;\n        break;\n      case IM_SAFE_SUCCESS:\n        draft.shouldShowCallModal = false;\n        draft.shouldShowExitPanicModal = false;\n        draft.shouldShowPanicInfo = false;\n        draft.recordType = RecordType.Audio;\n        draft.shouldShowChatModal = false;\n        draft.messages = [];\n        draft.requestingImSafe = false;\n        draft.isPanicMode = false;\n        draft.fromPassiveEscort = false;\n        break;\n      case IM_SAFE_FAILURE:\n        draft.requestingImSafe = false;\n        break;\n      case SHOW_PANIC_INFO:\n        draft.shouldShowPanicInfo = true;\n        break;\n      case HIDE_PANIC_INFO:\n        draft.shouldShowPanicInfo = false;\n        break;\n      case ENTER_PANIC_MODE:\n        draft.isPanicMode = true;\n        break;\n      case EXIT_PANIC_MODE:\n        draft.isPanicMode = false;\n        break;\n      case SHOW_EXIT_PANIC_MODAL:\n        draft.shouldShowExitPanicModal = true;\n        break;\n      case HIDE_EXIT_PANIC_MODAL:\n        draft.shouldShowExitPanicModal = false;\n        break;\n      case SET_TRIGGERED_FROM_PASSIVE:\n        draft.fromPassiveEscort = true;\n        break;\n      case HANDLE_ERROR_FAILURE:\n        draft.error = action.error;\n        draft.errorMessage = action.payload.message;\n        break;\n      case APP_STATE_STATUS_CHANGE:\n        draft.appState = action.payload.state;\n        break;\n      default:\n    }\n  },\n  initialState,\n);\n\nexport default recordScreenReducer;\n"],"mappings":"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","ignoreList":[]}