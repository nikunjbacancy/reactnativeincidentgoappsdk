{"version":3,"names":["_components","require","_toLower","_interopRequireDefault","_react","_interopRequireWildcard","_reactIntl","_reactNative","_reactNativeModal","_styled","_messages","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","deviceHeight","Dimensions","height","ExitPanicModal","isVisible","hideModal","onConfirm","formatMessage","useIntl","comment","setComment","useState","error","setError","handleContinue","useCallback","toLower","createElement","useNativeDriver","animationIn","animationOut","onBackButtonPress","onBackdropPress","avoidKeyboard","Container","Title","messages","exitPanicModalTitle","MessageRow","Message","exitPanicModalInfo","InputRow","InputText","value","onChangeText","placeholder","exitPanicModalPlaceholder","ErrorText","exitPanicModalInputValidation","ButtonContainer","CancelButton","onPress","text","exitPanicModalCancel","ConfirmButton","exitPanicModalConfirm","styled","View","theme","colors","white","Text","fonts","defaultBoldFamily","titleSize","dark","defaultFamily","nearWhite","TextInput","attrs","placeholderTextColor","lighter","textAlignVertical","GradientButton","textStyle","color","textTransform","fontSize","highlight","smallSize","red","_default","exports","memo"],"sources":["index.tsx"],"sourcesContent":["import { GradientButton } from '../../../../../../components';\nimport toLower from 'lodash/toLower';\nimport React, { FC, memo, useCallback, useState } from 'react';\nimport { useIntl } from 'react-intl';\nimport { Dimensions } from 'react-native';\nimport Modal from 'react-native-modal';\nimport styled from '../../../../../../utils/styled';\n\nimport messages from '../messages';\n\nconst deviceHeight = Dimensions.get('window').height;\n\ninterface Props {\n  isVisible: boolean;\n  hideModal(): void;\n  onConfirm(comment?: string): void;\n}\n\nconst ExitPanicModal: FC<Props> = ({ isVisible, hideModal, onConfirm }) => {\n  const { formatMessage } = useIntl();\n  const [comment, setComment] = useState('');\n  const [error, setError] = useState(false);\n  const handleContinue = useCallback(() => {\n    if (toLower(comment) === 'exit') {\n      onConfirm(comment);\n      setComment('');\n      setError(false);\n      hideModal();\n    } else {\n      setError(true);\n    }\n  }, [comment, setComment, setError]);\n  return (\n    <Modal\n      useNativeDriver={true}\n      animationIn=\"zoomIn\"\n      animationOut=\"zoomOut\"\n      isVisible={isVisible}\n      onBackButtonPress={hideModal}\n      onBackdropPress={hideModal}\n      avoidKeyboard\n    >\n      <Container>\n        <Title>{formatMessage(messages.exitPanicModalTitle)}</Title>\n        <MessageRow>\n          <Message>{formatMessage(messages.exitPanicModalInfo)}</Message>\n        </MessageRow>\n        <InputRow>\n          <InputText\n            value={comment}\n            onChangeText={setComment}\n            placeholder={formatMessage(messages.exitPanicModalPlaceholder)}\n          />\n        </InputRow>\n        {error && (\n          <ErrorText>\n            {formatMessage(messages.exitPanicModalInputValidation)}\n          </ErrorText>\n        )}\n        <ButtonContainer>\n          <CancelButton\n            onPress={hideModal}\n            text={formatMessage(messages.exitPanicModalCancel)}\n          />\n          <ConfirmButton\n            onPress={handleContinue}\n            text={formatMessage(messages.exitPanicModalConfirm)}\n          />\n        </ButtonContainer>\n      </Container>\n    </Modal>\n  );\n};\n\nconst Container = styled.View`\n  align-items: center;\n  border-radius: 20px;\n  height: ${deviceHeight < 768 ? 210 : 270}px;\n  width: 90%;\n  margin-left: auto;\n  margin-right: auto;\n  background-color: ${({ theme }) => theme.colors.white};\n`;\n\nconst Title = styled.Text`\n  font-family: ${({ theme }) => theme.fonts.defaultBoldFamily};\n  font-size: ${({ theme }) => theme.fonts.titleSize};\n  color: ${({ theme }) => theme.colors.dark};\n  margin: ${deviceHeight < 768 ? 10 : 20}px 0;\n  text-align: center;\n`;\n\nconst MessageRow = styled.View`\n  flex: 1;\n  padding: 0 30px;\n`;\n\nconst Message = styled.Text`\n  font-family: ${({ theme }) => theme.fonts.defaultFamily};\n  font-size: 16px;\n  color: ${({ theme }) => theme.colors.dark};\n  text-align: center;\n`;\n\nconst InputRow = styled.View`\n  margin: ${deviceHeight < 768 ? 8 : 10}px 30px;\n  background: ${({ theme }) => theme.colors.nearWhite};\n  border-radius: 6px;\n  height: ${deviceHeight < 768 ? 40 : 60}px;\n  padding: 8px 0;\n  align-self: stretch;\n`;\n\nconst InputText = styled.TextInput.attrs(({ theme }) => ({\n  placeholderTextColor: theme.colors.lighter,\n  textAlignVertical: 'top',\n}))`\n  color: ${({ theme }) => theme.colors.dark};\n  flex-grow: 1;\n  padding: 0 15px;\n  font-size: 15px;\n`;\n\nconst ButtonContainer = styled.View`\n  display: flex;\n  flex-direction: row;\n  margin-top: auto;\n  border-top-width: 1px;\n  border-top-color: ${({ theme }) => theme.colors.nearWhite};\n`;\n\nconst CancelButton = styled(GradientButton).attrs(({ theme }) => ({\n  textStyle: {\n    color: theme.colors.dark,\n    textTransform: 'uppercase',\n    fontSize: 18,\n  },\n}))`\n  flex: 0.5;\n  height: ${deviceHeight < 768 ? 50 : 60}px;\n  background-color: ${({ theme }) => theme.colors.white};\n  border-radius: 0;\n  border-bottom-left-radius: 20px;\n`;\n\nconst ConfirmButton = styled(GradientButton).attrs(({ theme }) => ({\n  textStyle: {\n    color: theme.colors.highlight,\n    textTransform: 'uppercase',\n    fontSize: 18,\n  },\n}))`\n  flex: 0.5;\n  height: ${deviceHeight < 768 ? 50 : 60}px;\n  background-color: ${({ theme }) => theme.colors.white};\n  border-radius: 0;\n  border-bottom-right-radius: 20px;\n  border-left-width: 1px;\n  border-left-color: ${({ theme }) => theme.colors.nearWhite};\n`;\n\nconst ErrorText = styled.Text`\n  align-self: flex-start;\n  margin-left: 30px;\n  margin-bottom: 5px;\n  font-family: ${({ theme }) => theme.fonts.defaultFamily};\n  font-size: ${({ theme }) => theme.fonts.smallSize};\n  color: ${({ theme }) => theme.colors.red};\n`;\n\nexport default memo(ExitPanicModal);\n"],"mappings":";;;;;;AAAA,IAAAA,WAAA,GAAAC,OAAA;AACA,IAAAC,QAAA,GAAAC,sBAAA,CAAAF,OAAA;AACA,IAAAG,MAAA,GAAAC,uBAAA,CAAAJ,OAAA;AACA,IAAAK,UAAA,GAAAL,OAAA;AACA,IAAAM,YAAA,GAAAN,OAAA;AACA,IAAAO,iBAAA,GAAAL,sBAAA,CAAAF,OAAA;AACA,IAAAQ,OAAA,GAAAN,sBAAA,CAAAF,OAAA;AAEA,IAAAS,SAAA,GAAAP,sBAAA,CAAAF,OAAA;AAAmC,SAAAU,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAP,wBAAAO,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAAA,SAAAjB,uBAAAS,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAI,UAAA,GAAAJ,CAAA,KAAAK,OAAA,EAAAL,CAAA;AAEnC,MAAMmB,YAAY,GAAGC,uBAAU,CAACb,GAAG,CAAC,QAAQ,CAAC,CAACc,MAAM;AAQpD,MAAMC,cAAyB,GAAGA,CAAC;EAAEC,SAAS;EAAEC,SAAS;EAAEC;AAAU,CAAC,KAAK;EACzE,MAAM;IAAEC;EAAc,CAAC,GAAG,IAAAC,kBAAO,EAAC,CAAC;EACnC,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAG,IAAAC,eAAQ,EAAC,EAAE,CAAC;EAC1C,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAG,IAAAF,eAAQ,EAAC,KAAK,CAAC;EACzC,MAAMG,cAAc,GAAG,IAAAC,kBAAW,EAAC,MAAM;IACvC,IAAI,IAAAC,gBAAO,EAACP,OAAO,CAAC,KAAK,MAAM,EAAE;MAC/BH,SAAS,CAACG,OAAO,CAAC;MAClBC,UAAU,CAAC,EAAE,CAAC;MACdG,QAAQ,CAAC,KAAK,CAAC;MACfR,SAAS,CAAC,CAAC;IACb,CAAC,MAAM;MACLQ,QAAQ,CAAC,IAAI,CAAC;IAChB;EACF,CAAC,EAAE,CAACJ,OAAO,EAAEC,UAAU,EAAEG,QAAQ,CAAC,CAAC;EACnC,oBACExC,MAAA,CAAAa,OAAA,CAAA+B,aAAA,CAACxC,iBAAA,CAAAS,OAAK;IACJgC,eAAe,EAAE,IAAK;IACtBC,WAAW,EAAC,QAAQ;IACpBC,YAAY,EAAC,SAAS;IACtBhB,SAAS,EAAEA,SAAU;IACrBiB,iBAAiB,EAAEhB,SAAU;IAC7BiB,eAAe,EAAEjB,SAAU;IAC3BkB,aAAa;EAAA,gBAEblD,MAAA,CAAAa,OAAA,CAAA+B,aAAA,CAACO,SAAS,qBACRnD,MAAA,CAAAa,OAAA,CAAA+B,aAAA,CAACQ,KAAK,QAAElB,aAAa,CAACmB,iBAAQ,CAACC,mBAAmB,CAAS,CAAC,eAC5DtD,MAAA,CAAAa,OAAA,CAAA+B,aAAA,CAACW,UAAU,qBACTvD,MAAA,CAAAa,OAAA,CAAA+B,aAAA,CAACY,OAAO,QAAEtB,aAAa,CAACmB,iBAAQ,CAACI,kBAAkB,CAAW,CACpD,CAAC,eACbzD,MAAA,CAAAa,OAAA,CAAA+B,aAAA,CAACc,QAAQ,qBACP1D,MAAA,CAAAa,OAAA,CAAA+B,aAAA,CAACe,SAAS;IACRC,KAAK,EAAExB,OAAQ;IACfyB,YAAY,EAAExB,UAAW;IACzByB,WAAW,EAAE5B,aAAa,CAACmB,iBAAQ,CAACU,yBAAyB;EAAE,CAChE,CACO,CAAC,EACVxB,KAAK,iBACJvC,MAAA,CAAAa,OAAA,CAAA+B,aAAA,CAACoB,SAAS,QACP9B,aAAa,CAACmB,iBAAQ,CAACY,6BAA6B,CAC5C,CACZ,eACDjE,MAAA,CAAAa,OAAA,CAAA+B,aAAA,CAACsB,eAAe,qBACdlE,MAAA,CAAAa,OAAA,CAAA+B,aAAA,CAACuB,YAAY;IACXC,OAAO,EAAEpC,SAAU;IACnBqC,IAAI,EAAEnC,aAAa,CAACmB,iBAAQ,CAACiB,oBAAoB;EAAE,CACpD,CAAC,eACFtE,MAAA,CAAAa,OAAA,CAAA+B,aAAA,CAAC2B,aAAa;IACZH,OAAO,EAAE3B,cAAe;IACxB4B,IAAI,EAAEnC,aAAa,CAACmB,iBAAQ,CAACmB,qBAAqB;EAAE,CACrD,CACc,CACR,CACN,CAAC;AAEZ,CAAC;AAED,MAAMrB,SAAS,GAAGsB,eAAM,CAACC,IAAI;AAC7B;AACA;AACA,YAAY/C,YAAY,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;AAC1C;AACA;AACA;AACA,sBAAsB,CAAC;EAAEgD;AAAM,CAAC,KAAKA,KAAK,CAACC,MAAM,CAACC,KAAK;AACvD,CAAC;AAED,MAAMzB,KAAK,GAAGqB,eAAM,CAACK,IAAI;AACzB,iBAAiB,CAAC;EAAEH;AAAM,CAAC,KAAKA,KAAK,CAACI,KAAK,CAACC,iBAAiB;AAC7D,eAAe,CAAC;EAAEL;AAAM,CAAC,KAAKA,KAAK,CAACI,KAAK,CAACE,SAAS;AACnD,WAAW,CAAC;EAAEN;AAAM,CAAC,KAAKA,KAAK,CAACC,MAAM,CAACM,IAAI;AAC3C,YAAYvD,YAAY,GAAG,GAAG,GAAG,EAAE,GAAG,EAAE;AACxC;AACA,CAAC;AAED,MAAM4B,UAAU,GAAGkB,eAAM,CAACC,IAAI;AAC9B;AACA;AACA,CAAC;AAED,MAAMlB,OAAO,GAAGiB,eAAM,CAACK,IAAI;AAC3B,iBAAiB,CAAC;EAAEH;AAAM,CAAC,KAAKA,KAAK,CAACI,KAAK,CAACI,aAAa;AACzD;AACA,WAAW,CAAC;EAAER;AAAM,CAAC,KAAKA,KAAK,CAACC,MAAM,CAACM,IAAI;AAC3C;AACA,CAAC;AAED,MAAMxB,QAAQ,GAAGe,eAAM,CAACC,IAAI;AAC5B,YAAY/C,YAAY,GAAG,GAAG,GAAG,CAAC,GAAG,EAAE;AACvC,gBAAgB,CAAC;EAAEgD;AAAM,CAAC,KAAKA,KAAK,CAACC,MAAM,CAACQ,SAAS;AACrD;AACA,YAAYzD,YAAY,GAAG,GAAG,GAAG,EAAE,GAAG,EAAE;AACxC;AACA;AACA,CAAC;AAED,MAAMgC,SAAS,GAAGc,eAAM,CAACY,SAAS,CAACC,KAAK,CAAC,CAAC;EAAEX;AAAM,CAAC,MAAM;EACvDY,oBAAoB,EAAEZ,KAAK,CAACC,MAAM,CAACY,OAAO;EAC1CC,iBAAiB,EAAE;AACrB,CAAC,CAAC,CAAC;AACH,WAAW,CAAC;EAAEd;AAAM,CAAC,KAAKA,KAAK,CAACC,MAAM,CAACM,IAAI;AAC3C;AACA;AACA;AACA,CAAC;AAED,MAAMhB,eAAe,GAAGO,eAAM,CAACC,IAAI;AACnC;AACA;AACA;AACA;AACA,sBAAsB,CAAC;EAAEC;AAAM,CAAC,KAAKA,KAAK,CAACC,MAAM,CAACQ,SAAS;AAC3D,CAAC;AAED,MAAMjB,YAAY,GAAG,IAAAM,eAAM,EAACiB,0BAAc,CAAC,CAACJ,KAAK,CAAC,CAAC;EAAEX;AAAM,CAAC,MAAM;EAChEgB,SAAS,EAAE;IACTC,KAAK,EAAEjB,KAAK,CAACC,MAAM,CAACM,IAAI;IACxBW,aAAa,EAAE,WAAW;IAC1BC,QAAQ,EAAE;EACZ;AACF,CAAC,CAAC,CAAC;AACH;AACA,YAAYnE,YAAY,GAAG,GAAG,GAAG,EAAE,GAAG,EAAE;AACxC,sBAAsB,CAAC;EAAEgD;AAAM,CAAC,KAAKA,KAAK,CAACC,MAAM,CAACC,KAAK;AACvD;AACA;AACA,CAAC;AAED,MAAMN,aAAa,GAAG,IAAAE,eAAM,EAACiB,0BAAc,CAAC,CAACJ,KAAK,CAAC,CAAC;EAAEX;AAAM,CAAC,MAAM;EACjEgB,SAAS,EAAE;IACTC,KAAK,EAAEjB,KAAK,CAACC,MAAM,CAACmB,SAAS;IAC7BF,aAAa,EAAE,WAAW;IAC1BC,QAAQ,EAAE;EACZ;AACF,CAAC,CAAC,CAAC;AACH;AACA,YAAYnE,YAAY,GAAG,GAAG,GAAG,EAAE,GAAG,EAAE;AACxC,sBAAsB,CAAC;EAAEgD;AAAM,CAAC,KAAKA,KAAK,CAACC,MAAM,CAACC,KAAK;AACvD;AACA;AACA;AACA,uBAAuB,CAAC;EAAEF;AAAM,CAAC,KAAKA,KAAK,CAACC,MAAM,CAACQ,SAAS;AAC5D,CAAC;AAED,MAAMpB,SAAS,GAAGS,eAAM,CAACK,IAAI;AAC7B;AACA;AACA;AACA,iBAAiB,CAAC;EAAEH;AAAM,CAAC,KAAKA,KAAK,CAACI,KAAK,CAACI,aAAa;AACzD,eAAe,CAAC;EAAER;AAAM,CAAC,KAAKA,KAAK,CAACI,KAAK,CAACiB,SAAS;AACnD,WAAW,CAAC;EAAErB;AAAM,CAAC,KAAKA,KAAK,CAACC,MAAM,CAACqB,GAAG;AAC1C,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAtF,OAAA,gBAEa,IAAAuF,WAAI,EAACtE,cAAc,CAAC","ignoreList":[]}