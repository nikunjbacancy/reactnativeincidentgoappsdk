{"version":3,"names":["_components","require","_actions","_screens","_interopRequireDefault","_react","_interopRequireWildcard","_reactIntl","_reactNative","_hooks","_navigation","_styles","_actions2","_CancelEscortModal","_constants","_messages","_selectors","_styles2","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","RequestComponent","navigation","isPanic","getParam","formatMessage","useIntl","showCancelEscortModalAction","useAction","showCancelEscortModal","addRequestingEscortScreenAction","addScreenAction","requestingEscort","useSelector","makeSelectRequestingEscort","shouldShowCancelEscortModal","makeSelectShouldShowCancelEscortModal","useEffect","type","SHOW_CANCEL_ESCORT_MODAL","actionText","messages","cancelRequest","action","useBackButton","NavigatorService","navigate","Screens","Home","Escort","EscortType","determineTitle","Panictitle","Livetitle","createElement","Fragment","StatusBar","barStyle","backgroundColor","SafeAreaContainer","Container","isKeyboard","RequestEscortContainer","Header","title","requestEscort","RequestingContainer","RequestEscortLoading","RequestEscortTitle","RequestEscortMessage","Panicmessage","Livemessage","CancelEscortButton","onPress","text","isVisible","PanicOverlay","_default","exports"],"sources":["index.tsx"],"sourcesContent":["import { Header, SafeAreaContainer } from '../../../../../components';\nimport { addScreenAction } from '../../../../../containers/providers/RoutesProvider/actions';\nimport Screens from '../../../../../containers/providers/RoutesProvider/screens';\nimport React, { FC, useEffect } from 'react';\nimport { useIntl } from 'react-intl';\nimport { StatusBar } from 'react-native';\nimport { NavigationStackScreenProps } from 'react-navigation-stack';\nimport { useAction, useBackButton, useSelector } from '../../../../../utils/hooks';\nimport NavigatorService from '../../../../../utils/navigation';\n\nimport { PanicOverlay } from '../RecordScreen/styles';\nimport { showCancelEscortModal } from './actions';\nimport CancelEscortModal from './CancelEscortModal';\nimport { SHOW_CANCEL_ESCORT_MODAL } from './constants';\nimport messages from './messages';\nimport {\n  makeSelectRequestingEscort,\n  makeSelectShouldShowCancelEscortModal,\n} from './selectors';\nimport {\n  CancelEscortButton,\n  Container,\n  RequestEscortContainer,\n  RequestEscortLoading,\n  RequestEscortMessage,\n  RequestEscortTitle,\n  RequestingContainer,\n} from './styles';\nimport { EscortType } from './types';\n\ninterface RequestComponentProps {\n  isPanic: boolean;\n  requestType: EscortType;\n}\n\ntype Props = NavigationStackScreenProps<RequestComponentProps>;\n\nconst RequestComponent: FC<Props> = ({ navigation }: Props) => {\n  const isPanic = navigation.getParam('isPanic');\n  const { formatMessage } = useIntl();\n\n  const showCancelEscortModalAction = useAction(showCancelEscortModal);\n  const addRequestingEscortScreenAction = useAction(addScreenAction);\n\n  const requestingEscort = useSelector(makeSelectRequestingEscort());\n  const shouldShowCancelEscortModal = useSelector(\n    makeSelectShouldShowCancelEscortModal(),\n  );\n\n  useEffect(() => {\n    if (requestingEscort) {\n      addRequestingEscortScreenAction({\n        type: SHOW_CANCEL_ESCORT_MODAL,\n        actionText: formatMessage(messages.cancelRequest),\n        action: showCancelEscortModalAction,\n      });\n    }\n  }, [requestingEscort]);\n\n  useBackButton(() => {\n    //(\"isPanic=======>\",isPanic)\n    if (!isPanic) {\n      NavigatorService.navigate(Screens.Home.Escort.EscortType);\n    }\n    return true;\n  });\n\n  const determineTitle = () => {\n    if (isPanic) {\n      return formatMessage(messages.Panictitle);\n    }\n    return formatMessage(messages.Livetitle);\n  };\n\n  return (\n    <>\n      <StatusBar barStyle=\"dark-content\" backgroundColor=\"white\" />\n      <SafeAreaContainer>\n        <Container isKeyboard={false}>\n          <RequestEscortContainer>\n            <Header title={formatMessage(messages.requestEscort)} />\n            <RequestingContainer>\n              <RequestEscortLoading />\n              <RequestEscortTitle>{determineTitle()}</RequestEscortTitle>\n              <RequestEscortMessage>\n                {isPanic\n                  ? formatMessage(messages.Panicmessage)\n                  : formatMessage(messages.Livemessage)}\n              </RequestEscortMessage>\n            </RequestingContainer>\n            {!isPanic && (\n              <CancelEscortButton\n                onPress={showCancelEscortModalAction}\n                text={formatMessage(messages.cancelRequest)}\n              />\n            )}\n          </RequestEscortContainer>\n          <CancelEscortModal isVisible={shouldShowCancelEscortModal} />\n        </Container>\n      </SafeAreaContainer>\n      {isPanic && <PanicOverlay />}\n    </>\n  );\n};\n\nexport default RequestComponent;\n"],"mappings":"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","ignoreList":[]}