{"version":3,"names":["_incidentCodeCore","require","_reselect","_reducer","selectAppStateDomain","state","app","initialState","exports","makeSelectIsLoading","createSelector","isLoadingConfigs","isLoadingProfile","isLoadingTwilioToken","makeSelectUser","user","makeSelectAppUserContacts","contacts","makeSelectNextOnboardingScreen","nextOnboardingScreen","makeSelectConfigs","configs","makeSelectNewTipIncident","newTip","incident","makeSelectNewTipIncidentVideos","videos","makeSelectNewTipIncidentLocation","location","undefined","makeSelectNewTipIncidentExpired","makeSelectNewTipOrganization","organization","makeSelectNewTipOrganizationName","name","makeSelectNewTipCategoryName","category","display","makeSelectNewTipIncidentActionRequest","_newTip$organization","_newTip$organization2","incidentActionRequest","id","action","IncidentAction","AlertOrganization","args","organizationArea","area","comment","makeSelectTipCameraMode","tipCamera","mode","makeSelectTipVideoIndex","videoIndex","makeSelectGiftedChatUser","_id","firstName","lastName","avatar","portraitUrl","makeSelectTwilioInitialized","twilio","initialized","makeSelectIncidentEscortData","incidentEscortData","makeSelectTwilioAccessToken","accessToken","makeSelectPassiveEscortData","incidentPassiveEscortData","makeSelectAppLocation","makeSelectAppState","subState","_default","default"],"sources":["selectors.ts"],"sourcesContent":["/**\n *\n * App selectors\n *\n */\n\nimport { Id, IncidentAction, IncidentActionRequest } from 'incident-code-core';\nimport { User } from 'react-native-gifted-chat';\nimport { createSelector } from 'reselect';\nimport { RootState } from 'store/types';\n\nimport { initialState } from './reducer';\n\n// //(\"-initialState->\",initialState)\n/**\n * Direct selector to the App state domain\n */\nconst selectAppStateDomain = (state: RootState) => state.app || initialState;\n\n/**\n * Other specific selectors\n */\n\nconst makeSelectIsLoading = () =>\n  createSelector(\n    selectAppStateDomain,\n    ({ isLoadingConfigs, isLoadingProfile, isLoadingTwilioToken }) =>\n      isLoadingConfigs || isLoadingProfile || isLoadingTwilioToken,\n  );\n\nconst makeSelectUser = () =>\n  createSelector(selectAppStateDomain, ({ user }) => user);\n\nconst makeSelectAppUserContacts = () =>\n  createSelector(makeSelectUser(), ({ contacts }) => contacts || []);\n\nconst makeSelectNextOnboardingScreen = () =>\n  createSelector(\n    selectAppStateDomain,\n    ({ nextOnboardingScreen }) => nextOnboardingScreen,\n  );\n\nconst makeSelectConfigs = () =>\n  createSelector(selectAppStateDomain, ({ configs }) => configs);\n\nconst makeSelectNewTipIncident = () =>\n  createSelector(selectAppStateDomain, ({ newTip: { incident } }) => incident);\n\nconst makeSelectNewTipIncidentVideos = () =>\n  createSelector(makeSelectNewTipIncident(), incident =>\n    incident && incident.videos ? incident.videos : [],\n  );\n\nconst makeSelectNewTipIncidentLocation = () =>\n  createSelector(makeSelectNewTipIncident(), incident =>\n    incident && incident.location ? incident.location : undefined,\n  );\n\nconst makeSelectNewTipIncidentExpired = () =>\n  createSelector(makeSelectNewTipIncident(), incident => !incident);\n\nconst makeSelectNewTipOrganization = () =>\n  createSelector(selectAppStateDomain, ({ newTip }) =>\n    newTip.organization ? newTip.organization : {},\n  );\n\nconst makeSelectNewTipOrganizationName = () =>\n  createSelector(selectAppStateDomain, ({ newTip }) =>\n    newTip.organization && newTip.organization.name\n      ? newTip.organization.name\n      : '',\n  );\n\nconst makeSelectNewTipCategoryName = () =>\n  createSelector(selectAppStateDomain, ({ newTip }) =>\n    newTip.category && newTip.category.display ? newTip.category.display : '',\n  );\n\nconst makeSelectNewTipIncidentActionRequest = () =>\n  createSelector(selectAppStateDomain, ({ newTip }) => {\n    if (!newTip.incident || !newTip.category) return;\n    const incidentActionRequest: IncidentActionRequest = {\n      id: newTip.incident.id,\n      action: IncidentAction.AlertOrganization,\n      args: {\n        organization: newTip.organization?.id,\n        organizationArea: newTip.organization?.area as Id,\n        category: newTip.category.name,\n        comment: newTip.comment,\n      },\n    };\n    return incidentActionRequest;\n  });\n\nconst makeSelectTipCameraMode = () =>\n  createSelector(selectAppStateDomain, ({ tipCamera: { mode } }) => mode);\n\nconst makeSelectTipVideoIndex = () =>\n  createSelector(\n    selectAppStateDomain,\n    ({ tipCamera: { videoIndex } }) => videoIndex,\n  );\n\nconst makeSelectGiftedChatUser = () =>\n  createSelector(\n    makeSelectUser(),\n    user =>\n      ({\n        _id: `U:${user.id}`,\n        name: `${user.firstName} ${user.lastName}`,\n        avatar: user.portraitUrl,\n      } as User),\n  );\n\nconst makeSelectTwilioInitialized = () =>\n  createSelector(\n    selectAppStateDomain,\n    ({ twilio: { initialized } }) => initialized,\n  );\n\nconst makeSelectIncidentEscortData = () =>\n  createSelector(\n    selectAppStateDomain,\n    ({ incidentEscortData }) => incidentEscortData,\n  );\n\nconst makeSelectTwilioAccessToken = () =>\n  createSelector(\n    selectAppStateDomain,\n    ({ twilio: { accessToken } }) => accessToken,\n  );\n\nconst makeSelectPassiveEscortData = () =>\n  createSelector(\n    selectAppStateDomain,\n    ({ incidentPassiveEscortData }) => incidentPassiveEscortData,\n  );\n\nconst makeSelectAppLocation = () =>\n  createSelector(selectAppStateDomain, ({ location }) => location);\n/**\n * Default selector used by App\n */\n\nconst makeSelectAppState = () =>\n  createSelector(selectAppStateDomain, subState => subState);\n\nexport default makeSelectAppState;\nexport {\n  makeSelectIsLoading,\n  selectAppStateDomain,\n  makeSelectUser,\n  makeSelectAppUserContacts,\n  makeSelectNextOnboardingScreen,\n  makeSelectConfigs,\n  makeSelectNewTipIncident,\n  makeSelectNewTipIncidentVideos,\n  makeSelectNewTipIncidentLocation,\n  makeSelectNewTipIncidentExpired,\n  makeSelectNewTipOrganization,\n  makeSelectNewTipOrganizationName,\n  makeSelectNewTipCategoryName,\n  makeSelectNewTipIncidentActionRequest,\n  makeSelectTipCameraMode,\n  makeSelectTipVideoIndex,\n  makeSelectGiftedChatUser,\n  makeSelectTwilioInitialized,\n  makeSelectIncidentEscortData,\n  makeSelectTwilioAccessToken,\n  makeSelectPassiveEscortData,\n  makeSelectAppLocation,\n};\n"],"mappings":";;;;;;AAMA,IAAAA,iBAAA,GAAAC,OAAA;AAEA,IAAAC,SAAA,GAAAD,OAAA;AAGA,IAAAE,QAAA,GAAAF,OAAA;AAXA;AACA;AACA;AACA;AACA;;AASA;AACA;AACA;AACA;AACA,MAAMG,oBAAoB,GAAIC,KAAgB,IAAKA,KAAK,CAACC,GAAG,IAAIC,qBAAY;;AAE5E;AACA;AACA;AAFAC,OAAA,CAAAJ,oBAAA,GAAAA,oBAAA;AAIA,MAAMK,mBAAmB,GAAGA,CAAA,KAC1B,IAAAC,wBAAc,EACZN,oBAAoB,EACpB,CAAC;EAAEO,gBAAgB;EAAEC,gBAAgB;EAAEC;AAAqB,CAAC,KAC3DF,gBAAgB,IAAIC,gBAAgB,IAAIC,oBAC5C,CAAC;AAACL,OAAA,CAAAC,mBAAA,GAAAA,mBAAA;AAEJ,MAAMK,cAAc,GAAGA,CAAA,KACrB,IAAAJ,wBAAc,EAACN,oBAAoB,EAAE,CAAC;EAAEW;AAAK,CAAC,KAAKA,IAAI,CAAC;AAACP,OAAA,CAAAM,cAAA,GAAAA,cAAA;AAE3D,MAAME,yBAAyB,GAAGA,CAAA,KAChC,IAAAN,wBAAc,EAACI,cAAc,CAAC,CAAC,EAAE,CAAC;EAAEG;AAAS,CAAC,KAAKA,QAAQ,IAAI,EAAE,CAAC;AAACT,OAAA,CAAAQ,yBAAA,GAAAA,yBAAA;AAErE,MAAME,8BAA8B,GAAGA,CAAA,KACrC,IAAAR,wBAAc,EACZN,oBAAoB,EACpB,CAAC;EAAEe;AAAqB,CAAC,KAAKA,oBAChC,CAAC;AAACX,OAAA,CAAAU,8BAAA,GAAAA,8BAAA;AAEJ,MAAME,iBAAiB,GAAGA,CAAA,KACxB,IAAAV,wBAAc,EAACN,oBAAoB,EAAE,CAAC;EAAEiB;AAAQ,CAAC,KAAKA,OAAO,CAAC;AAACb,OAAA,CAAAY,iBAAA,GAAAA,iBAAA;AAEjE,MAAME,wBAAwB,GAAGA,CAAA,KAC/B,IAAAZ,wBAAc,EAACN,oBAAoB,EAAE,CAAC;EAAEmB,MAAM,EAAE;IAAEC;EAAS;AAAE,CAAC,KAAKA,QAAQ,CAAC;AAAChB,OAAA,CAAAc,wBAAA,GAAAA,wBAAA;AAE/E,MAAMG,8BAA8B,GAAGA,CAAA,KACrC,IAAAf,wBAAc,EAACY,wBAAwB,CAAC,CAAC,EAAEE,QAAQ,IACjDA,QAAQ,IAAIA,QAAQ,CAACE,MAAM,GAAGF,QAAQ,CAACE,MAAM,GAAG,EAClD,CAAC;AAAClB,OAAA,CAAAiB,8BAAA,GAAAA,8BAAA;AAEJ,MAAME,gCAAgC,GAAGA,CAAA,KACvC,IAAAjB,wBAAc,EAACY,wBAAwB,CAAC,CAAC,EAAEE,QAAQ,IACjDA,QAAQ,IAAIA,QAAQ,CAACI,QAAQ,GAAGJ,QAAQ,CAACI,QAAQ,GAAGC,SACtD,CAAC;AAACrB,OAAA,CAAAmB,gCAAA,GAAAA,gCAAA;AAEJ,MAAMG,+BAA+B,GAAGA,CAAA,KACtC,IAAApB,wBAAc,EAACY,wBAAwB,CAAC,CAAC,EAAEE,QAAQ,IAAI,CAACA,QAAQ,CAAC;AAAChB,OAAA,CAAAsB,+BAAA,GAAAA,+BAAA;AAEpE,MAAMC,4BAA4B,GAAGA,CAAA,KACnC,IAAArB,wBAAc,EAACN,oBAAoB,EAAE,CAAC;EAAEmB;AAAO,CAAC,KAC9CA,MAAM,CAACS,YAAY,GAAGT,MAAM,CAACS,YAAY,GAAG,CAAC,CAC/C,CAAC;AAACxB,OAAA,CAAAuB,4BAAA,GAAAA,4BAAA;AAEJ,MAAME,gCAAgC,GAAGA,CAAA,KACvC,IAAAvB,wBAAc,EAACN,oBAAoB,EAAE,CAAC;EAAEmB;AAAO,CAAC,KAC9CA,MAAM,CAACS,YAAY,IAAIT,MAAM,CAACS,YAAY,CAACE,IAAI,GAC3CX,MAAM,CAACS,YAAY,CAACE,IAAI,GACxB,EACN,CAAC;AAAC1B,OAAA,CAAAyB,gCAAA,GAAAA,gCAAA;AAEJ,MAAME,4BAA4B,GAAGA,CAAA,KACnC,IAAAzB,wBAAc,EAACN,oBAAoB,EAAE,CAAC;EAAEmB;AAAO,CAAC,KAC9CA,MAAM,CAACa,QAAQ,IAAIb,MAAM,CAACa,QAAQ,CAACC,OAAO,GAAGd,MAAM,CAACa,QAAQ,CAACC,OAAO,GAAG,EACzE,CAAC;AAAC7B,OAAA,CAAA2B,4BAAA,GAAAA,4BAAA;AAEJ,MAAMG,qCAAqC,GAAGA,CAAA,KAC5C,IAAA5B,wBAAc,EAACN,oBAAoB,EAAE,CAAC;EAAEmB;AAAO,CAAC,KAAK;EAAA,IAAAgB,oBAAA,EAAAC,qBAAA;EACnD,IAAI,CAACjB,MAAM,CAACC,QAAQ,IAAI,CAACD,MAAM,CAACa,QAAQ,EAAE;EAC1C,MAAMK,qBAA4C,GAAG;IACnDC,EAAE,EAAEnB,MAAM,CAACC,QAAQ,CAACkB,EAAE;IACtBC,MAAM,EAAEC,gCAAc,CAACC,iBAAiB;IACxCC,IAAI,EAAE;MACJd,YAAY,GAAAO,oBAAA,GAAEhB,MAAM,CAACS,YAAY,cAAAO,oBAAA,uBAAnBA,oBAAA,CAAqBG,EAAE;MACrCK,gBAAgB,GAAAP,qBAAA,GAAEjB,MAAM,CAACS,YAAY,cAAAQ,qBAAA,uBAAnBA,qBAAA,CAAqBQ,IAAU;MACjDZ,QAAQ,EAAEb,MAAM,CAACa,QAAQ,CAACF,IAAI;MAC9Be,OAAO,EAAE1B,MAAM,CAAC0B;IAClB;EACF,CAAC;EACD,OAAOR,qBAAqB;AAC9B,CAAC,CAAC;AAACjC,OAAA,CAAA8B,qCAAA,GAAAA,qCAAA;AAEL,MAAMY,uBAAuB,GAAGA,CAAA,KAC9B,IAAAxC,wBAAc,EAACN,oBAAoB,EAAE,CAAC;EAAE+C,SAAS,EAAE;IAAEC;EAAK;AAAE,CAAC,KAAKA,IAAI,CAAC;AAAC5C,OAAA,CAAA0C,uBAAA,GAAAA,uBAAA;AAE1E,MAAMG,uBAAuB,GAAGA,CAAA,KAC9B,IAAA3C,wBAAc,EACZN,oBAAoB,EACpB,CAAC;EAAE+C,SAAS,EAAE;IAAEG;EAAW;AAAE,CAAC,KAAKA,UACrC,CAAC;AAAC9C,OAAA,CAAA6C,uBAAA,GAAAA,uBAAA;AAEJ,MAAME,wBAAwB,GAAGA,CAAA,KAC/B,IAAA7C,wBAAc,EACZI,cAAc,CAAC,CAAC,EAChBC,IAAI,KACD;EACCyC,GAAG,EAAE,KAAKzC,IAAI,CAAC2B,EAAE,EAAE;EACnBR,IAAI,EAAE,GAAGnB,IAAI,CAAC0C,SAAS,IAAI1C,IAAI,CAAC2C,QAAQ,EAAE;EAC1CC,MAAM,EAAE5C,IAAI,CAAC6C;AACf,CAAC,CACL,CAAC;AAACpD,OAAA,CAAA+C,wBAAA,GAAAA,wBAAA;AAEJ,MAAMM,2BAA2B,GAAGA,CAAA,KAClC,IAAAnD,wBAAc,EACZN,oBAAoB,EACpB,CAAC;EAAE0D,MAAM,EAAE;IAAEC;EAAY;AAAE,CAAC,KAAKA,WACnC,CAAC;AAACvD,OAAA,CAAAqD,2BAAA,GAAAA,2BAAA;AAEJ,MAAMG,4BAA4B,GAAGA,CAAA,KACnC,IAAAtD,wBAAc,EACZN,oBAAoB,EACpB,CAAC;EAAE6D;AAAmB,CAAC,KAAKA,kBAC9B,CAAC;AAACzD,OAAA,CAAAwD,4BAAA,GAAAA,4BAAA;AAEJ,MAAME,2BAA2B,GAAGA,CAAA,KAClC,IAAAxD,wBAAc,EACZN,oBAAoB,EACpB,CAAC;EAAE0D,MAAM,EAAE;IAAEK;EAAY;AAAE,CAAC,KAAKA,WACnC,CAAC;AAAC3D,OAAA,CAAA0D,2BAAA,GAAAA,2BAAA;AAEJ,MAAME,2BAA2B,GAAGA,CAAA,KAClC,IAAA1D,wBAAc,EACZN,oBAAoB,EACpB,CAAC;EAAEiE;AAA0B,CAAC,KAAKA,yBACrC,CAAC;AAAC7D,OAAA,CAAA4D,2BAAA,GAAAA,2BAAA;AAEJ,MAAME,qBAAqB,GAAGA,CAAA,KAC5B,IAAA5D,wBAAc,EAACN,oBAAoB,EAAE,CAAC;EAAEwB;AAAS,CAAC,KAAKA,QAAQ,CAAC;AAClE;AACA;AACA;AAFApB,OAAA,CAAA8D,qBAAA,GAAAA,qBAAA;AAIA,MAAMC,kBAAkB,GAAGA,CAAA,KACzB,IAAA7D,wBAAc,EAACN,oBAAoB,EAAEoE,QAAQ,IAAIA,QAAQ,CAAC;AAAC,IAAAC,QAAA,GAAAjE,OAAA,CAAAkE,OAAA,GAE9CH,kBAAkB","ignoreList":[]}