{"version":3,"names":["_react","require","useTimerInterval","interval","increment","onTimeChange","expire","onExpire","time","setTime","useState","shouldStart","setShouldStart","intervalRef","useRef","startTimer","stopTimer","useEffect","current","setInterval","prevTime","clearInterval","_default","exports","default"],"sources":["useTimerInterval.ts"],"sourcesContent":["import { useEffect, useRef, useState } from 'react';\n\ninterface TimerIntervalProps {\n  interval: number;\n  increment: number;\n  onTimeChange?: (time: number) => void;\n  expire?: number;\n  onExpire?: (time: number) => void;\n}\n\nconst useTimerInterval = ({\n  interval,\n  increment,\n  onTimeChange,\n  expire,\n  onExpire,\n}: TimerIntervalProps) => {\n  const [time, setTime] = useState(0);\n  const [shouldStart, setShouldStart] = useState(false);\n  const intervalRef = useRef<NodeJS.Timeout>();\n\n  const startTimer = () => {\n    setShouldStart(true);\n  };\n\n  const stopTimer = () => {\n    setShouldStart(false);\n    setTime(0);\n  };\n\n  useEffect(() => {\n    if (shouldStart) {\n      intervalRef.current = setInterval(() => {\n        setTime(prevTime => {\n          if (expire && intervalRef.current && prevTime + increment > expire) {\n            if (onExpire) onExpire(prevTime);\n            stopTimer();\n            return 0;\n          }\n          if (onTimeChange) onTimeChange(prevTime + increment);\n          return prevTime + increment;\n        });\n      }, interval);\n    } else if (intervalRef.current) {\n      setTime(0);\n      clearInterval(intervalRef.current);\n    }\n  }, [shouldStart]);\n\n  return { time, startTimer, stopTimer };\n};\n\nexport default useTimerInterval;\n"],"mappings":";;;;;;AAAA,IAAAA,MAAA,GAAAC,OAAA;AAUA,MAAMC,gBAAgB,GAAGA,CAAC;EACxBC,QAAQ;EACRC,SAAS;EACTC,YAAY;EACZC,MAAM;EACNC;AACkB,CAAC,KAAK;EACxB,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAG,IAAAC,eAAQ,EAAC,CAAC,CAAC;EACnC,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAG,IAAAF,eAAQ,EAAC,KAAK,CAAC;EACrD,MAAMG,WAAW,GAAG,IAAAC,aAAM,EAAiB,CAAC;EAE5C,MAAMC,UAAU,GAAGA,CAAA,KAAM;IACvBH,cAAc,CAAC,IAAI,CAAC;EACtB,CAAC;EAED,MAAMI,SAAS,GAAGA,CAAA,KAAM;IACtBJ,cAAc,CAAC,KAAK,CAAC;IACrBH,OAAO,CAAC,CAAC,CAAC;EACZ,CAAC;EAED,IAAAQ,gBAAS,EAAC,MAAM;IACd,IAAIN,WAAW,EAAE;MACfE,WAAW,CAACK,OAAO,GAAGC,WAAW,CAAC,MAAM;QACtCV,OAAO,CAACW,QAAQ,IAAI;UAClB,IAAId,MAAM,IAAIO,WAAW,CAACK,OAAO,IAAIE,QAAQ,GAAGhB,SAAS,GAAGE,MAAM,EAAE;YAClE,IAAIC,QAAQ,EAAEA,QAAQ,CAACa,QAAQ,CAAC;YAChCJ,SAAS,CAAC,CAAC;YACX,OAAO,CAAC;UACV;UACA,IAAIX,YAAY,EAAEA,YAAY,CAACe,QAAQ,GAAGhB,SAAS,CAAC;UACpD,OAAOgB,QAAQ,GAAGhB,SAAS;QAC7B,CAAC,CAAC;MACJ,CAAC,EAAED,QAAQ,CAAC;IACd,CAAC,MAAM,IAAIU,WAAW,CAACK,OAAO,EAAE;MAC9BT,OAAO,CAAC,CAAC,CAAC;MACVY,aAAa,CAACR,WAAW,CAACK,OAAO,CAAC;IACpC;EACF,CAAC,EAAE,CAACP,WAAW,CAAC,CAAC;EAEjB,OAAO;IAAEH,IAAI;IAAEO,UAAU;IAAEC;EAAU,CAAC;AACxC,CAAC;AAAC,IAAAM,QAAA,GAAAC,OAAA,CAAAC,OAAA,GAEatB,gBAAgB","ignoreList":[]}