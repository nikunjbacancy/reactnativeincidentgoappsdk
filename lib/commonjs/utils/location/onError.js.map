{"version":3,"names":["_logger","_interopRequireDefault","require","e","__esModule","default","onGeolocationError","reject","error","isManual","coarseLocation","type","from","logger","warn","exports","onBackgroundGeolocationError","errorType"],"sources":["onError.ts"],"sourcesContent":["import logger from '../../api/logger';\nimport { LocationError } from 'react-native-background-geolocation';\nimport { GeoError } from 'react-native-geolocation-service';\n\nimport { RejectGeoError } from './types';\n\nconst onGeolocationError = (\n  reject: RejectGeoError,\n  error: GeoError,\n  isManual?: boolean,\n  coarseLocation?: boolean,\n) => {\n  const type = coarseLocation == null ? 'fine' : 'coarse';\n  const from = isManual == null ? 'watcher' : 'manual';\n  logger.warn(\n    'LocationService',\n    `error on getting a ${type} location by ${from}`,\n    error,\n  );\n  reject(error)\n};\n\nconst onBackgroundGeolocationError = (error: LocationError) => {\n  // Location Error Types: https://transistorsoft.github.io/react-native-background-geolocation/modules/_react_native_background_geolocation_.html#locationerror\n  let errorType = '';\n  switch (error) {\n    case 0:\n      errorType = 'Location unknown';\n      break;\n    case 1:\n      errorType = 'Location permission denied';\n      break;\n    case 2:\n      errorType = 'Network error';\n      break;\n    case 408:\n      errorType = 'Location timeout';\n      break;\n    // case 499:\n    //   errorType = 'Location request canceled';\n    //   break;\n    default:\n      errorType = 'Location error code unknown';\n      break;\n  }\n  logger.error('Background Geolocation Error', 'Error Code: ' + errorType);\n};\n\nexport { onGeolocationError, onBackgroundGeolocationError };\n"],"mappings":";;;;;;AAAA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAE,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAMtC,MAAMG,kBAAkB,GAAGA,CACzBC,MAAsB,EACtBC,KAAe,EACfC,QAAkB,EAClBC,cAAwB,KACrB;EACH,MAAMC,IAAI,GAAGD,cAAc,IAAI,IAAI,GAAG,MAAM,GAAG,QAAQ;EACvD,MAAME,IAAI,GAAGH,QAAQ,IAAI,IAAI,GAAG,SAAS,GAAG,QAAQ;EACpDI,eAAM,CAACC,IAAI,CACT,iBAAiB,EACjB,sBAAsBH,IAAI,gBAAgBC,IAAI,EAAE,EAChDJ,KACF,CAAC;EACDD,MAAM,CAACC,KAAK,CAAC;AACf,CAAC;AAACO,OAAA,CAAAT,kBAAA,GAAAA,kBAAA;AAEF,MAAMU,4BAA4B,GAAIR,KAAoB,IAAK;EAC7D;EACA,IAAIS,SAAS,GAAG,EAAE;EAClB,QAAQT,KAAK;IACX,KAAK,CAAC;MACJS,SAAS,GAAG,kBAAkB;MAC9B;IACF,KAAK,CAAC;MACJA,SAAS,GAAG,4BAA4B;MACxC;IACF,KAAK,CAAC;MACJA,SAAS,GAAG,eAAe;MAC3B;IACF,KAAK,GAAG;MACNA,SAAS,GAAG,kBAAkB;MAC9B;IACF;IACA;IACA;IACA;MACEA,SAAS,GAAG,6BAA6B;MACzC;EACJ;EACAJ,eAAM,CAACL,KAAK,CAAC,8BAA8B,EAAE,cAAc,GAAGS,SAAS,CAAC;AAC1E,CAAC;AAACF,OAAA,CAAAC,4BAAA,GAAAA,4BAAA","ignoreList":[]}