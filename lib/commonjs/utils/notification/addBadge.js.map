{"version":3,"names":["_asyncStorage","_interopRequireDefault","require","_api","_constants","_getBadges","e","__esModule","default","addBadge","incidentId","badges","getBadges","push","AsyncStorage","setItem","NOTIFICATION_BADGES_KEY","JSON","stringify","event","emit","AppEvent","OnNotificationBadge","_default","exports"],"sources":["addBadge.ts"],"sourcesContent":["import AsyncStorage from '@react-native-async-storage/async-storage';\nimport { AppEvent, event } from '../../api';\nimport { NOTIFICATION_BADGES_KEY } from '../../containers/providers/NotificationProvider/constants';\nimport { Id } from 'incident-code-core';\n\nimport getBadges from './getBadges';\n\nconst addBadge = async (incidentId: Id) => {\n  const badges = await getBadges();\n  badges.push(incidentId);\n  await AsyncStorage.setItem(NOTIFICATION_BADGES_KEY, JSON.stringify(badges));\n  event.emit(AppEvent.OnNotificationBadge, badges);\n};\n\nexport default addBadge;\n"],"mappings":";;;;;;AAAA,IAAAA,aAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,IAAA,GAAAD,OAAA;AACA,IAAAE,UAAA,GAAAF,OAAA;AAGA,IAAAG,UAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAAoC,SAAAD,uBAAAK,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAEpC,MAAMG,QAAQ,GAAG,MAAOC,UAAc,IAAK;EACzC,MAAMC,MAAM,GAAG,MAAM,IAAAC,kBAAS,EAAC,CAAC;EAChCD,MAAM,CAACE,IAAI,CAACH,UAAU,CAAC;EACvB,MAAMI,qBAAY,CAACC,OAAO,CAACC,kCAAuB,EAAEC,IAAI,CAACC,SAAS,CAACP,MAAM,CAAC,CAAC;EAC3EQ,UAAK,CAACC,IAAI,CAACC,aAAQ,CAACC,mBAAmB,EAAEX,MAAM,CAAC;AAClD,CAAC;AAAC,IAAAY,QAAA,GAAAC,OAAA,CAAAhB,OAAA,GAEaC,QAAQ","ignoreList":[]}