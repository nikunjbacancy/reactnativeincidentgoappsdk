{"version":3,"names":["_asyncStorage","_interopRequireDefault","require","_api","_constants","_filter","_getBadges","e","__esModule","default","removeBadge","incidentId","badges","getBadges","filteredBadges","filter","b","AsyncStorage","setItem","NOTIFICATION_BADGES_KEY","JSON","stringify","event","emit","AppEvent","OnNotificationBadge","_default","exports"],"sources":["removeBadge.ts"],"sourcesContent":["import AsyncStorage from '@react-native-async-storage/async-storage';\nimport { AppEvent, event } from '../../api';\nimport { NOTIFICATION_BADGES_KEY } from '../../containers/providers/NotificationProvider/constants';\nimport { Id } from 'incident-code-core';\nimport filter from 'lodash/filter';\n\nimport getBadges from './getBadges';\n\nconst removeBadge = async (incidentId: Id) => {\n  const badges = await getBadges();\n  const filteredBadges = filter(badges, b => b !== incidentId);\n  await AsyncStorage.setItem(\n    NOTIFICATION_BADGES_KEY,\n    JSON.stringify(filteredBadges),\n  );\n  event.emit(AppEvent.OnNotificationBadge, filteredBadges);\n};\n\nexport default removeBadge;\n"],"mappings":";;;;;;AAAA,IAAAA,aAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,IAAA,GAAAD,OAAA;AACA,IAAAE,UAAA,GAAAF,OAAA;AAEA,IAAAG,OAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAEA,IAAAI,UAAA,GAAAL,sBAAA,CAAAC,OAAA;AAAoC,SAAAD,uBAAAM,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAEpC,MAAMG,WAAW,GAAG,MAAOC,UAAc,IAAK;EAC5C,MAAMC,MAAM,GAAG,MAAM,IAAAC,kBAAS,EAAC,CAAC;EAChC,MAAMC,cAAc,GAAG,IAAAC,eAAM,EAACH,MAAM,EAAEI,CAAC,IAAIA,CAAC,KAAKL,UAAU,CAAC;EAC5D,MAAMM,qBAAY,CAACC,OAAO,CACxBC,kCAAuB,EACvBC,IAAI,CAACC,SAAS,CAACP,cAAc,CAC/B,CAAC;EACDQ,UAAK,CAACC,IAAI,CAACC,aAAQ,CAACC,mBAAmB,EAAEX,cAAc,CAAC;AAC1D,CAAC;AAAC,IAAAY,QAAA,GAAAC,OAAA,CAAAlB,OAAA,GAEaC,WAAW","ignoreList":[]}