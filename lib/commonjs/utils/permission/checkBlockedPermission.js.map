{"version":3,"names":["_reactNativePermissions","require","_device","_getPermissions","_interopRequireDefault","e","__esModule","default","getLocationBlockedStatus","bestLocation","lightLocation","isIos","RESULTS","BLOCKED","checkBlockedPermission","permissions","getPermissions","Promise","all","check","camera","microphone","physical","galleryWrite","then","reject","resolve","_default","exports"],"sources":["checkBlockedPermission.ts"],"sourcesContent":["import { check, PermissionStatus, RESULTS } from 'react-native-permissions';\nimport { isIos } from '../../utils/device';\n\nimport getPermissions from './getPermissions';\n\nconst getLocationBlockedStatus = (\n  bestLocation: PermissionStatus,\n  lightLocation: PermissionStatus,\n) =>\n  isIos\n    ? bestLocation === RESULTS.BLOCKED && lightLocation === RESULTS.BLOCKED\n    : bestLocation === RESULTS.BLOCKED || lightLocation === RESULTS.BLOCKED;\n\nconst checkBlockedPermission = async () => {\n  const permissions = getPermissions();\n  return Promise.all([\n    check(permissions.camera),\n    check(permissions.microphone),\n    check(permissions.bestLocation),\n    check(permissions.lightLocation),\n    check(permissions.physical),\n    check(permissions.galleryWrite),\n  ]).then(([camera, microphone, bestLocation, lightLocation, physical]) => {\n    if (\n      camera === RESULTS.BLOCKED ||\n      microphone === RESULTS.BLOCKED ||\n      physical === RESULTS.BLOCKED ||\n      getLocationBlockedStatus(bestLocation, lightLocation)\n    ) {\n      return Promise.reject();\n    }\n    return Promise.resolve();\n  });\n};\n\nexport default checkBlockedPermission;\n"],"mappings":";;;;;;AAAA,IAAAA,uBAAA,GAAAC,OAAA;AACA,IAAAC,OAAA,GAAAD,OAAA;AAEA,IAAAE,eAAA,GAAAC,sBAAA,CAAAH,OAAA;AAA8C,SAAAG,uBAAAC,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAE9C,MAAMG,wBAAwB,GAAGA,CAC/BC,YAA8B,EAC9BC,aAA+B,KAE/BC,aAAK,GACDF,YAAY,KAAKG,+BAAO,CAACC,OAAO,IAAIH,aAAa,KAAKE,+BAAO,CAACC,OAAO,GACrEJ,YAAY,KAAKG,+BAAO,CAACC,OAAO,IAAIH,aAAa,KAAKE,+BAAO,CAACC,OAAO;AAE3E,MAAMC,sBAAsB,GAAG,MAAAA,CAAA,KAAY;EACzC,MAAMC,WAAW,GAAG,IAAAC,uBAAc,EAAC,CAAC;EACpC,OAAOC,OAAO,CAACC,GAAG,CAAC,CACjB,IAAAC,6BAAK,EAACJ,WAAW,CAACK,MAAM,CAAC,EACzB,IAAAD,6BAAK,EAACJ,WAAW,CAACM,UAAU,CAAC,EAC7B,IAAAF,6BAAK,EAACJ,WAAW,CAACN,YAAY,CAAC,EAC/B,IAAAU,6BAAK,EAACJ,WAAW,CAACL,aAAa,CAAC,EAChC,IAAAS,6BAAK,EAACJ,WAAW,CAACO,QAAQ,CAAC,EAC3B,IAAAH,6BAAK,EAACJ,WAAW,CAACQ,YAAY,CAAC,CAChC,CAAC,CAACC,IAAI,CAAC,CAAC,CAACJ,MAAM,EAAEC,UAAU,EAAEZ,YAAY,EAAEC,aAAa,EAAEY,QAAQ,CAAC,KAAK;IACvE,IACEF,MAAM,KAAKR,+BAAO,CAACC,OAAO,IAC1BQ,UAAU,KAAKT,+BAAO,CAACC,OAAO,IAC9BS,QAAQ,KAAKV,+BAAO,CAACC,OAAO,IAC5BL,wBAAwB,CAACC,YAAY,EAAEC,aAAa,CAAC,EACrD;MACA,OAAOO,OAAO,CAACQ,MAAM,CAAC,CAAC;IACzB;IACA,OAAOR,OAAO,CAACS,OAAO,CAAC,CAAC;EAC1B,CAAC,CAAC;AACJ,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAArB,OAAA,GAEaO,sBAAsB","ignoreList":[]}