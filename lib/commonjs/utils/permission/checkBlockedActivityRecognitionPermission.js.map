{"version":3,"names":["_reactNativePermissions","require","_","_device","getLocationBlockedStatus","bestLocation","lightLocation","isIos","RESULTS","BLOCKED","checkBlockedLocationActivityPermission","permissions","getLocationActionPermissions","Promise","all","check","physical","then","reject","resolve","_default","exports","default"],"sources":["checkBlockedActivityRecognitionPermission.ts"],"sourcesContent":["import { check, PermissionStatus, RESULTS } from 'react-native-permissions';\nimport { getLocationActionPermissions } from '.';\n\nimport { isIos } from '../device';\n\nconst getLocationBlockedStatus = (\n  bestLocation: PermissionStatus,\n  lightLocation: PermissionStatus,\n) =>\n  isIos\n    ? bestLocation === RESULTS.BLOCKED && lightLocation === RESULTS.BLOCKED\n    : bestLocation === RESULTS.BLOCKED || lightLocation === RESULTS.BLOCKED;\n\nconst checkBlockedLocationActivityPermission = async () => {\n  const permissions = getLocationActionPermissions();\n  return Promise.all([\n    check(permissions.bestLocation),\n    check(permissions.lightLocation),\n    check(permissions.physical),\n  ]).then(([bestLocation, lightLocation, physical]) => {\n    if (\n      physical === RESULTS.BLOCKED ||\n      getLocationBlockedStatus(bestLocation, lightLocation)\n    ) {\n      return Promise.reject();\n    }\n    return Promise.resolve();\n  });\n};\n\nexport default checkBlockedLocationActivityPermission;\n"],"mappings":";;;;;;AAAA,IAAAA,uBAAA,GAAAC,OAAA;AACA,IAAAC,CAAA,GAAAD,OAAA;AAEA,IAAAE,OAAA,GAAAF,OAAA;AAEA,MAAMG,wBAAwB,GAAGA,CAC/BC,YAA8B,EAC9BC,aAA+B,KAE/BC,aAAK,GACDF,YAAY,KAAKG,+BAAO,CAACC,OAAO,IAAIH,aAAa,KAAKE,+BAAO,CAACC,OAAO,GACrEJ,YAAY,KAAKG,+BAAO,CAACC,OAAO,IAAIH,aAAa,KAAKE,+BAAO,CAACC,OAAO;AAE3E,MAAMC,sCAAsC,GAAG,MAAAA,CAAA,KAAY;EACzD,MAAMC,WAAW,GAAG,IAAAC,8BAA4B,EAAC,CAAC;EAClD,OAAOC,OAAO,CAACC,GAAG,CAAC,CACjB,IAAAC,6BAAK,EAACJ,WAAW,CAACN,YAAY,CAAC,EAC/B,IAAAU,6BAAK,EAACJ,WAAW,CAACL,aAAa,CAAC,EAChC,IAAAS,6BAAK,EAACJ,WAAW,CAACK,QAAQ,CAAC,CAC5B,CAAC,CAACC,IAAI,CAAC,CAAC,CAACZ,YAAY,EAAEC,aAAa,EAAEU,QAAQ,CAAC,KAAK;IACnD,IACEA,QAAQ,KAAKR,+BAAO,CAACC,OAAO,IAC5BL,wBAAwB,CAACC,YAAY,EAAEC,aAAa,CAAC,EACrD;MACA,OAAOO,OAAO,CAACK,MAAM,CAAC,CAAC;IACzB;IACA,OAAOL,OAAO,CAACM,OAAO,CAAC,CAAC;EAC1B,CAAC,CAAC;AACJ,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAC,OAAA,GAEaZ,sCAAsC","ignoreList":[]}