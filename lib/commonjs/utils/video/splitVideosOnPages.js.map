{"version":3,"names":["_forEach","_interopRequireDefault","require","e","__esModule","default","splitVideosOnPages","videos","pages","chunk","i","length","slice","push","skipped","forEach","sliceIndex","isLastVideo","id","text","_default","exports"],"sources":["splitVideosOnPages.ts"],"sourcesContent":["import forEach from 'lodash/forEach';\nimport { IncidentVideoInfo } from 'types';\n\nconst splitVideosOnPages = (\n  videos: IncidentVideoInfo[],\n): IncidentVideoInfo[][] => {\n  const pages = [];\n  const chunk = 3;\n\n  for (let i = 0; i < videos.length; i += chunk) {\n    const slice = videos.slice(i, i + chunk);\n    pages.push(slice);\n  }\n\n  let skipped = 0;\n  if (pages.length > 1) {\n    forEach(pages, (slice: IncidentVideoInfo[], sliceIndex) => {\n      skipped += slice.length;\n      const isLastVideo = sliceIndex === pages.length - 1;\n\n      slice.push({\n        id: `page-${sliceIndex}-last`,\n        text: isLastVideo ? 'back' : `${videos.length - skipped}+`,\n      });\n    });\n  }\n\n  return pages;\n};\n\nexport default splitVideosOnPages;\n"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAqC,SAAAD,uBAAAE,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAGrC,MAAMG,kBAAkB,GACtBC,MAA2B,IACD;EAC1B,MAAMC,KAAK,GAAG,EAAE;EAChB,MAAMC,KAAK,GAAG,CAAC;EAEf,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGH,MAAM,CAACI,MAAM,EAAED,CAAC,IAAID,KAAK,EAAE;IAC7C,MAAMG,KAAK,GAAGL,MAAM,CAACK,KAAK,CAACF,CAAC,EAAEA,CAAC,GAAGD,KAAK,CAAC;IACxCD,KAAK,CAACK,IAAI,CAACD,KAAK,CAAC;EACnB;EAEA,IAAIE,OAAO,GAAG,CAAC;EACf,IAAIN,KAAK,CAACG,MAAM,GAAG,CAAC,EAAE;IACpB,IAAAI,gBAAO,EAACP,KAAK,EAAE,CAACI,KAA0B,EAAEI,UAAU,KAAK;MACzDF,OAAO,IAAIF,KAAK,CAACD,MAAM;MACvB,MAAMM,WAAW,GAAGD,UAAU,KAAKR,KAAK,CAACG,MAAM,GAAG,CAAC;MAEnDC,KAAK,CAACC,IAAI,CAAC;QACTK,EAAE,EAAE,QAAQF,UAAU,OAAO;QAC7BG,IAAI,EAAEF,WAAW,GAAG,MAAM,GAAG,GAAGV,MAAM,CAACI,MAAM,GAAGG,OAAO;MACzD,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;EAEA,OAAON,KAAK;AACd,CAAC;AAAC,IAAAY,QAAA,GAAAC,OAAA,CAAAhB,OAAA,GAEaC,kBAAkB","ignoreList":[]}