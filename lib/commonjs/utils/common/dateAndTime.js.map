{"version":3,"names":["_dateFns","require","getOffsetHours","offsetMinutes","Date","getTimezoneOffset","getTimeAgo","date","offset","nowUTC","now","getTime","then","diffInMs","minutesAgo","Math","round","exports","getLocalTime","dateString","gmtDateStr","localTime","formatUTCtoLocalDate","utcDateString","formattedDate","format","timeDiff","setHours","daysAgo","floor","relativeTime"],"sources":["dateAndTime.ts"],"sourcesContent":["import { format } from 'date-fns'; // Import format function from date-fns\n\nconst getOffsetHours = () => {\n  const offsetMinutes = new Date().getTimezoneOffset();\n  return -offsetMinutes / 60;\n};\n\nconst getTimeAgo = (date: Date) => {\n  const offset = getOffsetHours();\n  const nowUTC = new Date();\n  const now = new Date(nowUTC.getTime() + offset * 60 * 60 * 1000)\n  const then = new Date(date);\n  const diffInMs = now - then;\n  const minutesAgo = Math.round(diffInMs / (1000 * 60));\n  return minutesAgo;\n};\n\nconst getLocalTime = (dateString: string) => {\n  const gmtDateStr = dateString;\n  const offset = getOffsetHours();\n  const date = new Date(gmtDateStr);\n  const localTime = new Date(date.getTime() + offset * 60 * 60 * 1000);\n  return localTime\n}\n\n/**\n * Formats a UTC date string to a local date string in the format \"MMM DD, hh:mm a\".\n * Also calculates the relative time in days ago.\n * @param utcDateString The UTC date string to format.\n * @returns An object containing the formatted date and the relative time in days ago.\n */\nfunction formatUTCtoLocalDate(utcDateString: string) {\n  const gmtDateStr = utcDateString;\n  const date = new Date(gmtDateStr);\n  \n  // Format the date to the desired format\n  const formattedDate = format(date, 'MMM dd, hh:mm a');\n  \n  const now = new Date();\n  const timeDiff = now.setHours(0, 0, 0, 0) - date.setHours(0, 0, 0, 0);\n  const daysAgo = Math.floor(timeDiff / (1000 * 60 * 60 * 24));\n\n  let relativeTime = \"\";\n  if (daysAgo === 0) {\n    relativeTime = \"Today\";\n  } else if (daysAgo === 1) {\n    relativeTime = \"Yesterday\";\n  } else if (daysAgo < 7) {\n    relativeTime = `${daysAgo} days ago`;\n  } else if (daysAgo < 14) {\n    relativeTime = \"A week ago\";\n  } else if (daysAgo < 30) {\n    relativeTime = `${Math.floor(daysAgo / 7)} weeks ago`;\n  } else if (daysAgo < 60) {\n    relativeTime = \"A month ago\";\n  } else {\n    relativeTime = `${Math.floor(daysAgo / 30)} months ago`;\n  }\n\n  return {\n    formattedDate,\n    daysAgo: relativeTime\n  };\n}\n\nexport { formatUTCtoLocalDate, getTimeAgo, getLocalTime }\n\n"],"mappings":"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","ignoreList":[]}